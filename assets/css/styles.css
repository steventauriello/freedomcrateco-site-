/* === Imports === */
@import url('https://fonts.googleapis.com/css2?family=Satisfy&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap');

/* === Root Variables === */
:root {
  --bg:#0f0f12;
  --panel:#16181d;
  --muted:#8b94a7;
  --text:#e9edf5;
  --brand:#2ecc71;
  --danger:#ff6b6b;
  --border:#242632;
  --link:#9bc2ff;
}

/* === Fluid type scale + rhythm === */
:root{
  --step--1: clamp(.86rem, .84rem + .2vw, .95rem);
  --step-0:  clamp(1rem,  .98rem + .2vw, 1.06rem);
  --step-1:  clamp(1.13rem,1.08rem + .35vw,1.25rem);
  --step-2:  clamp(1.28rem,1.18rem + .65vw,1.45rem);
  --step-3:  clamp(1.5rem, 1.32rem + 1vw,  1.8rem);
  --step-4:  clamp(1.9rem, 1.6rem  + 1.8vw, 2.4rem);

  --rhythm-1: .25rem;
  --rhythm-2: .5rem;
  --rhythm-3: .75rem;
  --rhythm-4: 1rem;
  --rhythm-5: 1.5rem;
  --rhythm-6: 2rem;
}

body { line-height: 1.6; letter-spacing: .01em; }
h1 { font-size: var(--step-4); line-height: 1.15; margin:.4em 0 .25em; }
h2 { font-size: var(--step-3); line-height: 1.2;  margin:.6em 0 .35em; }
h3 { font-size: var(--step-2); line-height: 1.25; margin:.6em 0 .35em; }
h4 { font-size: var(--step-1); line-height: 1.3;  margin:.6em 0 .35em; }
p { margin: 0 0 var(--rhythm-4); max-width: 70ch; }
small, .small { font-size: var(--step--1); }
.muted { color: var(--muted); opacity:.95; }

/* === Base === */
* { box-sizing: border-box; }
html, body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font: 16px/1.55 system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
a { color: var(--link); text-decoration: none; }
.container { max-width: 1100px; margin: 0 auto; padding: 24px; }
.container.wide { max-width: 1240px; }
.narrow { max-width: 900px; margin: 0 auto; }
.hidden { display: none; }

/* === Accessibility helpers === */
.sr-only{
  position:absolute !important;
  width:1px !important;
  height:1px !important;
  padding:0 !important;
  margin:-1px !important;
  overflow:hidden !important;
  clip:rect(0,0,0,0) !important;
  white-space:nowrap !important;
  border:0 !important;
}
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:static; width:auto; height:auto; padding:.5rem;
  background:#000; color:#fff; border-radius:.25rem;
}

/* === Site Header === */
.site-header {
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 12px 20px;
  background: linear-gradient(180deg,#0f0f12,rgba(15,15,18,.9));
  border-bottom: 1px solid var(--border);
}
.site-header .brand { display: flex; align-items: center; gap: 12px; color: #fff; }
.site-header .brand img{
  width: 60px; height: 60px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #fff;
}

/* Nav (cart forced to far right) */
.site-header .nav {
  display: flex;
  align-items: center;
  gap: .75rem;
  flex-wrap: wrap;
  justify-content: space-between;
}

.nav a {
  margin-left: 20px;
  color: var(--text);
  padding: 8px 10px;
  border-radius: 8px;
  font-weight: 600;
  white-space: nowrap;
}
.nav .cart-link { margin-left: auto; order: 99; }
.nav a:hover,
.nav a.active,
.nav a[aria-current="page"] {
  background: #1a1d26;
  color: var(--brand);
}

/* Tagline Centering (under main title on home) */
.tagline {
  text-align: center;
  margin: 0.5rem auto;
}

/* Full-width banner wrapper (home hero image) */
.banner { width: 100%; margin: 0; padding: 0; }
.banner img { width: 100%; height: auto; display: block; }

/* --- Maintenance banner + safety styles --- */
.maint-banner{
  background:#d90429;
  color:#fff;
  text-align:center;
  padding:10px 12px;
  font-weight:800;
  border-radius:8px;
  margin-bottom:8px;
  letter-spacing:.4px;
}
.maintenance .btn[data-add],
.maintenance .btn[data-buy],
.maintenance #sb-add,
.maintenance #sb-buy { pointer-events:none; opacity:.5; cursor:not-allowed; }
.maintenance a[href*="checkout.html"]{ pointer-events:none; opacity:.6; }

/* === Buttons === */
.btn {
  display: inline-block;
  background: var(--brand);
  color: #07130a;
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.3s ease;
}
.btn.ghost { background: transparent; border: 1px solid var(--brand); color: var(--text); }
.btn.sm { padding: 6px 10px; border-radius: 10px; }
.btn.danger { background: var(--danger); color: #210000; }
.btn:hover { background: #27ae60; }

/* === Cart Remove Button === */
.cart-row { position: relative; }
.remove-btn {
  background: none;
  border: 0;
  color: #fff;
  padding: 0;
  cursor: pointer;
  opacity: .8;
  display: inline-flex;
  align-items: center;
  position: absolute;
  bottom: 8px;
  right: 8px;
}
/* Mobile adjustment for trash icon */
@media (max-width:600px) {
  .cart-row .remove-btn {
    position: static;       /* don’t absolutely position */
    margin-top: 0.5rem;
    justify-content: center;
  }
}

.remove-btn:hover { opacity: 1; }
.remove-btn svg { width: 18px; height: 18px; display: block; }
.remove-btn:hover { opacity: 1; }
.remove-btn .label { font-size: 0.7rem; margin-left: 4px; }

/* === Hero Section (generic) === */
.hero { padding: 28px 20px; border-bottom: 1px solid var(--border); }
.hero h1 { margin: 0 0 8px; }
.actions { display: flex; gap: 10px; flex-wrap: wrap; }

/* === Grid / Cards === */
.grid { display: grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap: 16px; }
@media (max-width:900px){ .grid { grid-template-columns: repeat(2,minmax(0,1fr)); } }
@media (max-width:640px){ .grid { grid-template-columns: 1fr; } }

.card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.card .img { display: block; background: #0d0f14; position: relative; }
.card .ph { height: 170px; background: linear-gradient(135deg,#1c2030,#10131a); }
.card .soldout {
  position: absolute; top: 10px; left: 10px;
  background: var(--danger); color: #111;
  padding: 6px 10px; border-radius: 999px; font-weight: 800;
}
.card .fav {
  position: absolute; top: 10px; right: 10px;
  background: rgba(0,0,0,.45); backdrop-filter: blur(4px);
  border-radius: 999px; padding: 6px; cursor: pointer;
}
.card .fav svg { display: block; width: 20px; height: 20px; fill: #ffffff80; }
.card .fav.active svg { fill: #ff6b6b; }
.card .meta { padding: 14px; }
.card h3 { margin: 10px 0 6px; }
.card p { margin: 0 0 10px; color: var(--muted); }
.sku { font-size: 12px; color: var(--muted); }
.price-row { display: flex; justify-content: space-between; align-items: center; }
.price { font-weight: 800; }

/* === Misc === */
.notice { padding: 10px 0; color: #cfead7; }

/* === Product Page (gallery + info) === */
.product { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
@media (max-width:900px){ .product { grid-template-columns: 1fr; } }

/* Bulletproof gallery layout */
.gallery{
  display: grid !important;
  grid-template-columns: 1fr 92px;
  align-items: start;
  gap: 10px;
  background: #0d0f14;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px;
  min-height: 320px;
}
.gallery > img{
  grid-column: 1;
  width: 100%;
  height: auto;
  max-height: 420px;
  border-radius: 8px;
}
.gallery .thumbs{
  grid-column: 2;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.gallery .thumbs img{
  width: 80px;
  height: 80px;
  object-fit: cover;
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
}
/* Phones: thumbs below main image */
@media (max-width: 640px){
  .gallery{ grid-template-columns: 1fr; }
  .gallery .thumbs{
    grid-column: 1;
    flex-direction: row;
    overflow-x: auto;
    padding-bottom: 6px;
  }
  .gallery .thumbs img{ width: 72px; }
  /* Mobile: hide the header's shipping badge, keep the one under the title */
.site-header .shipping-banner { display: none !important; }
}

.product .info h1 { margin: 0 0 10px; }
.product .price { font-size: 22px; }
.product .buy-row { display: flex; gap: 10px; align-items: center; margin-top: 10px; }

/* === Tables === */
.table { width: 100%; border-collapse: collapse; }
.table th, .table td {
  border-bottom: 1px solid var(--border);
  padding: 10px;
  text-align: left;
}
.table .num { text-align: right; }

/* === Forms === */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-top: 20px;
}
.field { display: flex; flex-direction: column; }
.field.wide { grid-column: 1 / -1; }
label { font-weight: 600; margin-bottom: 6px; color: var(--text); }
input, select, textarea {
  padding: 10px 12px;
  border: 1px solid #444;
  border-radius: 6px;
  background: #111;
  color: var(--text);
  font-size: 15px;
}
input::placeholder, textarea::placeholder { color: #999; font-size: 14px; }
textarea { min-height: 140px; resize: vertical; }

/* === Title Strip === */
.site-title-strip { text-align: center; margin: 20px auto; }
.site-title-strip h1 {
  font-size: 3rem; font-weight: 900; margin: 0 0 0.5rem 0;
  font-family: "Black Ops One", system-ui, sans-serif;
  letter-spacing: 2px; text-transform: uppercase;
}
.site-title-strip p { font-size: 1.25rem; margin: 5px 0 0 0; font-weight: 400; }
.site-title-strip .slogan {
  font-family: 'Satisfy', cursive; font-size: 1.3rem; font-style: italic;
  margin-top: 5px; color: #ffffff;
}

/* === Product Detail Page === */
.product-detail { max-width: 900px; margin: 0 auto; padding: 20px; }
.product-detail .product-hero { width: 100%; height: auto; border-radius: 8px; margin: 0 0 16px; }
.product-detail h1 { margin: 8px 0 6px; }
.branch-label {
  font-family: "Black Ops One", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 700; letter-spacing: 1px; font-size: 1.05rem; text-transform: uppercase;
  color: var(--link); opacity: 1; display: inline-block; margin: -.25rem 0 .5rem;
}
.product-detail .muted { color: var(--muted); margin-bottom: 14px; }
.product-detail label { display: block; font-weight: 600; margin: 14px 0 6px; }
.product-detail select {
  width: 100%; padding: 10px 12px; background: #0e1013; color: #fff;
  border: 1px solid var(--border); border-radius: 8px;
}
.product-detail .price { font-size: 1.4rem; font-weight: 700; margin: 16px 0 8px; }
.product-detail .actions { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 8px; }
.product-detail .btn.ghost { background: transparent; border: 1px solid var(--brand); }

/* === Product description lists === */
.product-description ul,
.product-description ol { margin: 0.75rem 0 0.5rem 1.25rem; padding: 0; }
.product-description li { margin: 0.25rem 0; line-height: 1.5; }
.product-description strong { font-weight: 600; display: inline-block; margin-bottom: 0.25rem; }

/* === Cart qty controls === */
.qty-cell { display: inline-flex; flex-direction: column; align-items: center; gap: 6px; }
.qty-cell .qty { width: 70px; text-align: center; -moz-appearance: textfield; }
.qty-cell .qty-inc,
.qty-cell .qty-dec {
  padding: 6px 10px; border: 1px solid var(--border);
  background: #0e1013; color: var(--text); border-radius: 8px; line-height: 1;
}
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

/* === Cart Totals Alignment Fix === */
.cart-summary {
  display: flex; justify-content: space-between; align-items: center; padding: 12px 16px;
}
.cart-summary .label { flex: 1; text-align: right; padding-right: 10px; }
.cart-summary .value { font-weight: 600; }

/* === Inventory/stock + image fixes === */
.card .stock-badge{ position:absolute; top:2.2rem; left:.5rem; z-index:2; }
.card.no-title-overlay .img::before{ content:none !important; display:none !important; }
.product-hero{ width:100%; height:auto; display:block; object-fit:cover; }
.card .img::before { content: none !important; display: none !important; }
.card .img img { width:100%; height:auto; display:block; object-fit:cover; }

/* === Coming Soon diagonal ribbon === */
.card.coming-soon { position: relative; overflow: hidden; }
.card.coming-soon::after {
  content: "COMING SOON";
  position: absolute; top: 40px; left: -50px; width: 220px;
  text-align: center; transform: rotate(-45deg);
  background: #ff0000; color: #fff; font-weight: 900;
  font-size: 1rem; padding: 6px 0; z-index: 3; letter-spacing: 1px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5);
}

/* Force product titles under images to be white */
.card h3 a { color: #fff !important; font-weight: 900; }

/* Optional low-stock ribbon */
.card.low-stock::after {
  content: attr(data-stock);
  position: absolute;
  top: 12px; left: -45px; width: 160px;
  transform: rotate(-45deg);
  background: #ff0000; color: #fff; font-weight: 900;
  font-size: 0.9rem; text-align: center; padding: 4px 0; z-index: 3;
  letter-spacing: 0.5px; box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}

/* Stock quantity label */
.card .stock-label { color: #ff4d4d; font-weight: 800; font-size: 0.95rem; }

/* Under-photo quantity badge (in meta) */
.card .meta .stock-badge {
  position: static; display: inline-block; margin: 6px 0 8px;
  padding: 4px 8px; background: #ff0000; color: #fff;
  font-weight: 800; border-radius: 6px; font-size: 0.9rem; line-height: 1;
}
.card .img .stock-badge { display: none !important; }

/* === Lightbox overlay === */
.lightbox{
  position: fixed; inset: 0; display: none; place-items: center;
  background: rgba(0,0,0,.8); z-index: 10000; padding: 16px;
}
.lightbox.open{ display: grid; }
.lightbox img{
  max-width: min(92vw, 1200px); max-height: 92vh;
  border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,.6);
}
.lightbox .ctrl,
.lightbox .close{
  position: absolute; background: rgba(0,0,0,.55); color: #fff;
  border: 1px solid rgba(255,255,255,.25); width: 44px; height: 44px;
  border-radius: 999px; font-size: 28px; line-height: 42px;
  text-align: center; cursor: pointer; user-select: none;
}
.lightbox .prev{ left: 12px;  top: 50%; transform: translateY(-50%); }
.lightbox .next{ right: 12px; top: 50%; transform: translateY(-50%); }
.lightbox .close{ right: 12px; top: 12px; font-size: 22px; line-height: 42px; }

/* Hint cursor on the main product image */
.gallery .product-hero{ cursor: zoom-in; }

/* Make entire product card clickable */
.product-card{ position:relative; cursor:pointer; }
.product-card .overlay-link{ position:absolute; inset:0; z-index:5; text-indent:-9999px; overflow:hidden; }
.product-card .actions, .product-card .fav { position:relative; z-index:10; }

/* === Personalization UI (2 lines × 30 chars) === */
.opt-row{margin:.75rem 0}
.check{display:flex;gap:.5rem;align-items:center}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.help{display:block;opacity:.8;margin-top:.25rem}
.inline-hint{font-size:.9rem;opacity:.85;margin-top:.5rem}
.error{color: var(--danger); margin-top:.4rem; font-size:.92rem}
.btn.disabled{opacity:.6;pointer-events:none}
@media (max-width:640px){ .grid2{grid-template-columns:1fr;} }

/* Clamp product card descriptions */
.product-card .meta p{
  display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
  overflow: hidden; text-overflow: ellipsis;
}

/* ==== Featured cards (Classic + RM400) ==== */
.featured-wrap { margin: 2rem 0; }
.featured-card{
  display: grid; gap: 1rem; grid-template-columns: 1fr;
  padding: 1rem; border: 1px solid var(--border); border-radius: 8px;
  background: rgba(255,255,255,.02); max-width: 1100px; margin: 0 auto; overflow: hidden;
}
@media (min-width: 880px){
  .featured-card{ grid-template-columns: minmax(0,1.2fr) minmax(0,1fr); align-items: start; }
}
.featured-card > .fc-media,
.featured-card > .fc-controls { min-width: 0; }
.fc-media img{
  max-width: 100%; height: auto; border-radius: 6px; display: block;
  transition: opacity .25s ease; opacity: 1;
}
.fc-media img.is-loading{ opacity: 0; }
.fc-controls label{ font-weight: 600; display: block; margin: .5rem 0 .25rem; }
.fc-row{ display: flex; align-items: center; gap: 1rem; margin: .75rem 0; }
.fc-btn{ padding: .75rem 1.25rem; border-radius: 6px; cursor: pointer; }
.fc-note{ opacity: .75; font-size: .9rem; }
.option-row{ margin-bottom: .5rem; }
#classic-box, #rm400-card{ max-width: 1100px; margin: 2rem auto; }

/* ==== RM400 Details & Specs ==== */
.details-wrap { max-width: 1000px; margin: 2rem auto; padding: 1rem; }
.details-card {
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px; background: rgba(255,255,255,0.02);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15); overflow: hidden;
}
/* Toggle button */
.details-toggle{
  display: flex; justify-content: space-between; align-items: center; width: 100%;
  font-size: 1.25rem; font-weight: 800; padding: 1rem; background: #12141a;
  border: none; cursor: pointer; color: var(--text);
}
.details-toggle svg{ transition: transform .2s ease; }
.details-toggle[aria-expanded="true"] svg{ transform: rotate(180deg); }
/* Body */
.details-body { padding: 1.25rem; border-top: 1px solid var(--border); }
.details-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; }
@media (min-width: 880px){ .details-grid { grid-template-columns: 1.15fr 1fr; } }
/* Media */
.details-media img{
  max-width: 100%; border-radius: 8px; display: block; background: #0d0f14; border: 1px solid var(--border);
}
.thumbs-mini { display: flex; gap: .5rem; margin-top: .75rem; flex-wrap: wrap; }
.thumbs-mini button{
  font-weight: 700; font-size: .85rem; padding: .35rem .5rem; border: 1px solid rgba(255,255,255,0.2);
  border-radius: 6px; background: #0e1013; color: var(--text); cursor: pointer;
}
.thumbs-mini button.active { outline: 2px solid var(--brand); }
/* Info */
.details-info .lede { font-size: 1rem; margin-bottom: 1rem; opacity: .95; }
.details-info h4 { margin: .6rem 0 .35rem; font-size: 1.1rem; }
.bullets { margin: .5rem 0; padding-left: 1.25rem; list-style: disc; }
.bullets li + li { margin-top: .35rem; }
/* Actions */
.details-actions { margin-top: .75rem; display: flex; gap: .5rem; flex-wrap: wrap; }
.details-actions .btn { flex: 1; }

/* Final override: cart trash icon should be icon-only */
#cartContainer .remove-btn,
.cart-card .remove-btn,
.cart-row .remove-btn{
  background: none !important; border: 0 !important; padding: 0 !important;
  border-radius: 0 !important; box-shadow: none !important;
}
#cartContainer .remove-btn svg { display: block; }

/* === Homepage tagline centering === */
.site-title-strip,
.site-title-strip p,
.site-title-strip .slogan,
.tagline {
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}

/* === Full-width banner (image element only) === */
.banner,
.hero-banner,
.full-bleed {
  width: 100%;
  max-width: 100%;
  margin: 0;
  padding: 0;
}
.banner img,
.hero-banner img,
.full-bleed img {
  display: block;
  width: 100%;
  height: auto;
}
/* No background-image on .hero-banner — prevents double layer */
.hero-banner { background: none !important; }
/* === Mobile fix: keep trash can bottom-right === */
@media (max-width: 600px) {
  .cart-row {
    position: relative;
    padding-bottom: 2.5rem; /* make room for the trash can */
  }

  .cart-row .remove-btn {
    position: absolute;
    bottom: 8px;
    right: 8px;
    margin-top: 0;   /* reset any push from earlier */
    justify-content: flex-end;
  }
}
/* === Stripe Button (professional style) === */
#stripe-pay {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.75rem;
  background: linear-gradient(135deg, #635bff, #5146d8);
  color: #fff;
  font-weight: 600;
  font-size: 16px;
  padding: 14px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  width: 100%;
  max-width: 420px;
  margin: 0.5rem auto;
  transition: background 0.25s ease, transform 0.1s ease;
}

#stripe-pay:hover {
  background: linear-gradient(135deg, #5146d8, #3c32b8);
}

#stripe-pay:active {
  transform: scale(0.98);
}

.stripe-trust {
  display: block;
  margin-top: 6px;
  text-align: center;
  font-size: 0.8rem;
  color: #aaa;
}

.stripe-trust .stripe-word {
  color: #635bff;
  font-weight: 700;
}
/* Feature card link styling */
.feature-link {
  color: inherit;
  text-decoration: none;
}
.feature-link:hover {
  text-decoration: underline;
}
/* Tighten the tap target for the Branch dropdown on the featured card */
#classic-box .fc-controls label[for="sb-branch"] {
  display: inline;          /* stop the label from spanning the full row */
  padding: 0;               /* remove any extra hit area */
  margin: 0 .35rem 0 0;     /* tiny gap before the select */
  cursor: default;
}

#classic-box #sb-branch {
  display: inline-block;
  min-width: 220px;         /* keeps it readable without being huge */
  max-width: 100%;
}

/* Make sure nothing outside the select/label triggers it */
#classic-box .fc-controls {
  position: relative;
  z-index: 3;               /* stays above any overlay links */
}
#classic-box .fc-controls * {
  pointer-events: auto;     /* ensure controls capture their own taps */
}
.more-details {
  text-align: right;        /* pushes link to the right side */
  margin-top: 0.5rem;       /* little breathing room above */
  font-size: 0.9rem;        /* slightly smaller than body text */
}

.more-details a {
  color: #4CAF50;           /* match your green button style */
  text-decoration: none;    /* remove underline */
  font-weight: 600;         /* make it stand out */
}

.more-details a:hover {
  text-decoration: underline; /* subtle hover effect */
}
/* Ensure the product card acts as a positioning context */
.featured-card {
  position: relative;
}

/* --- More details link pinned to card bottom-right --- */
.featured-card { position: relative; }

/* give the controls extra room so the link never overlaps text/buttons */
.featured-card .fc-controls { position: relative; padding-bottom: 64px; }

/* anchor the link tighter to the bottom edge */
.more-details {
  position: absolute;
  right: 16px;
  bottom: 6px;           /* adjust this value for spacing */
  margin: 0;
  font-size: .95rem;
  line-height: 1;
}

.more-details a {
  color: var(--brand-accent, #39d353); /* or your accent green */
  text-decoration: none;
  border-bottom: 1px dotted currentColor;
}

.more-details a:hover { text-decoration: underline; }
/* Put the mini price guide under the total on feature cards */
.featured-card .fc-row > small.fc-note {
  display: block;
  margin-top: .25rem;
  opacity: .9;               /* optional: slightly muted */
}

/* === Header layout (desktop: brand | nav | banner; mobile tweaks below) === */
.site-header{
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 20px;
  background: linear-gradient(180deg,#0f0f12,rgba(15,15,18,.9));
  border-bottom: 1px solid var(--border);
  flex-wrap: wrap;                 /* prevents overlap if space is tight */
  justify-content: space-between;
}

/* brand */
.site-header .brand{ display:flex; align-items:center; gap:12px; color:#fff; }
.site-header .brand img{ width:60px; height:60px; border-radius:50%; object-fit:cover; border:2px solid #fff; }

/* nav (desktop) */
.site-header .nav{
  display:flex; align-items:center; gap:.75rem;
  flex:1 1 auto; min-width:0;      /* use remaining space between brand and banner */
  flex-wrap: wrap;                  /* allow wrap on desktop instead of overlap */
}
.nav a{
  margin-left:20px;
  color:var(--text);
  padding:8px 10px;
  border-radius:8px;
  font-weight:600;
  white-space:nowrap;
}
.nav .cart-link{ margin-left:auto; order:99; }
.nav a:hover, .nav a.active, .nav a[aria-current="page"]{ background:#1a1d26; color:var(--brand); }

/* shipping banner (desktop look) */
.shipping-banner{
  flex:0 0 auto;
  display:flex; align-items:center; gap:.4rem;
  padding:.35rem .6rem;
  font-size:.95rem; line-height:1.2;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.15);
  border-radius:.5rem;
  margin-left:auto;                /* far-right on wide screens */
}
.shipping-banner .flag{ font-size:1.05rem; }
.shipping-banner .label-mobile{ display:none; }

/* ===== MOBILE (<=640px) — top row: 5 links; second row: Cart + Shipping together ===== */
@media (max-width: 640px){
  /* let brand, each nav link, and shipping share the same flex context */
  .site-header{
    flex-wrap: wrap;
    align-items: center;
  }
  .site-header .nav{
    display: contents;             /* nav children become direct flex items of header */
  }

  /* --- Top row: 5 links centered --- */
  .nav a[href="index.html"]   { order: 10; }
  .nav a[href="about.html"]   { order: 11; }
  .nav a[href="gallery.html"] { order: 12; }
  .nav a[href="reviews.html"] { order: 13; }
  .nav a[href="contact.html"] { order: 14; }  /* Custom Orders stays in the top row */

  .nav a{
    margin: 0;
    padding: 6px 6px;
    font-size: .95rem;
    white-space: nowrap;
  }

  /* separators between the top-row links (not before the first) */
  .nav a[href="about.html"]::before,
  .nav a[href="gallery.html"]::before,
  .nav a[href="reviews.html"]::before,
  .nav a[href="contact.html"]::before{
    content: "|";
    opacity: .45;
    margin: 0 .24rem;
  }

  /* --- Second row: Cart + Free Shipping together, right-aligned --- */
  .nav .cart-link,
  .shipping-banner{
    order: 20;                     /* same order so they sit next to each other */
    display: inline-flex;
    align-items: center;
    gap: .45rem;
    flex: 0 1 auto;
    white-space: nowrap;           /* keep each item on one line */
  }

  .nav .cart-link{
    margin-left: auto;             /* pushes the pair to the right edge */
    padding-right: 0;
  }

  .shipping-banner{
    margin-left: .6rem;            /* small gap after Cart */
    background: none !important;   /* remove pill/shadow on mobile */
    border: none !important;
    padding: 0 !important;
    font-size: .95rem;
  }
  .shipping-banner .label-desktop{ display: none !important; }
  .shipping-banner .label-mobile { display: inline !important; }
  .shipping-banner .flag{ font-size: 1.05rem; }

  /* tiny phones: nudge sizes down a hair */
  @media (max-width: 400px){
    .nav a{ font-size: .9rem; padding: 6px 4px; }
    .shipping-banner{ font-size: .9rem; }
  }
}

/* ===== Tablet helper (<=900px): keep spacing sane without changing layout ===== */
@media (max-width: 900px){
  .site-header{ align-items: flex-start; }
  .site-header .nav{ gap: .5rem; }
}
/* Inline quantity (replaces old stock badge) */
.product-card .qty-text {
  font-size: 0.9rem;
  color: var(--muted);
  margin: 0 0 0.35rem;
  font-weight: 600;
}
/* ---------- Product gallery sizing (prevents zoom/crop) ---------- */

/* Main gallery wrapper (name it to match your product page markup) */
.product-gallery {
  display: grid;
  grid-template-columns: 1fr auto; /* main image + right-side thumbs */
  gap: 1rem;
  align-items: start;
}

/* Main image frame */
.product-main {
  /* If your HTML uses a div for the big image, keep this block */
  position: relative;
  width: 100%;
  /* Choose an aspect you like for the big frame; 4/3 is friendly for product shots */
  aspect-ratio: 4 / 3;
  background: #fff;
  border: 1px solid #e5e5e5;
  border-radius: 4px;
  overflow: hidden;            /* hides any overflow but we'll contain anyway */
}

/* If you use an <img> inside .product-main, this keeps the entire photo visible */
.product-main img {
  width: 100%;
  height: 100%;
  object-fit: contain;         /* <-- key: no cropping, no zooming */
  display: block;
}

/* If instead you use background-image on the main frame, use these: */
.product-main.is-bg {
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;    /* <-- key: no cropping, no zooming */
}

/* Thumbnail rail on the right */
.product-thumbs {
  display: grid;
  gap: 0.5rem;
}

/* Thumb buttons/cards */
.product-thumbs button,
.product-thumbs a {
  width: 84px;                 /* fixed, tidy thumb size */
  aspect-ratio: 1 / 1;
  padding: 0;
  border: 1px solid #e5e5e5;
  border-radius: 4px;
  background: #fff;
  overflow: hidden;
  cursor: pointer;
}

/* Make thumbs fill their square nicely without warping */
.product-thumbs img {
  width: 100%;
  height: 100%;
  object-fit: cover;           /* thumbs can crop to look uniform */
  display: block;
}

/* Active thumb state */
.product-thumbs .is-active {
  outline: 2px solid #222;
  outline-offset: 2px;
}
/* === FIX: product detail gallery main image should never crop === */
.gallery > img,
.gallery .product-hero {
  width: 100%;
  height: auto;
  max-height: 65vh;          /* lets tall images fit without blowing up */
  object-fit: contain !important; /* ensure no zoom/crop even if other rules say 'cover' */
}
.gallery .thumbs img{
  width: 80px;
  height: 80px;
  object-fit: cover;
}
/* === Consistent aspect ratio for product detail main image === */
.gallery > img,
.gallery .product-hero {
  width: 100%;
  height: 100%;
  aspect-ratio: 4 / 3;         /* keeps every image the same shape */
  object-fit: contain !important;
  background: #fff;            /* neutral background behind images */
  border-radius: 8px;
  border: 1px solid #e5e5e5;   /* subtle frame */
}
/* Monthly Giveaway Banner */
.giveaway-banner{
  background: linear-gradient(90deg,#b22222,#000080);
  text-align:center;
  padding:.6rem 1rem;
  font-size:1.1rem;
  font-weight:bold;
  letter-spacing:.5px;
  border-bottom:2px solid #fff;
}
.giveaway-banner a{ color:#fff; text-decoration:none; }
.giveaway-banner a:hover{ text-decoration:underline; }
/* --- Giveaway pages: stop horizontal overflow on mobile --- */

.give-wrap, .container {
  box-sizing: border-box;
  max-width: 1200px;
  margin: 0 auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* make sure gallery images never exceed the column */
.gallery-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.gallery-grid img { max-width: 100%; height: auto; display: block; }

/* avoid long rows pushing the width */
.badge-row, .btn-row { flex-wrap: wrap; }
/* --- Giveaway Thanks page: contain width on mobile --- */
.giveaway-thanks .container{
  box-sizing: border-box;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* make the gallery an actual grid and keep it inside the viewport */
.giveaway-thanks #branch-collection .gallery-grid{
  display: grid;
  gap: .75rem;
  grid-template-columns: 1fr;                 /* phones */
}
@media (min-width: 700px){
  .giveaway-thanks #branch-collection .gallery-grid{
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (min-width: 1024px){
  .giveaway-thanks #branch-collection .gallery-grid{
    grid-template-columns: repeat(3, 1fr);
  }
}

/* images should never overflow the column */
.giveaway-thanks img,
.giveaway-thanks svg,
.giveaway-thanks video,
.giveaway-thanks canvas{
  max-width: 100%;
  height: auto;
  display: block;
}
/* Kill UA side-margins on <figure> so it can't cause horizontal overflow */
figure { margin: 0 0 1rem; }

/* Last-resort clamps to prevent any stray child from widening the page */
.container { max-width: 100%; overflow-x: clip; }
.giveaway-thanks .container { overflow-x: clip; } /* scoped to the thanks page */

/* Safe global media guard (you already have a scoped one, but global is fine) */
img, svg, video, canvas { max-width: 100%; height: auto; display: block; }
/* === Re-enable horizontal scrolling site-wide === */
html, body { overflow-x: auto; }          /* allow sideways scroll if content is wider */

/* Undo earlier clipping that hid the overflow */
.container,
.giveaway-thanks .container { overflow-x: visible; }  /* don't clip off-screen content */
/* Center gallery arrows vertically */
.gallery {
  position: relative; /* so arrows can position inside */
}

.gallery .nav-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%); /* perfectly centers vertically */
  background: rgba(0,0,0,0.5);
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.gallery .nav-arrow.left {
  left: 10px;
}

.gallery .nav-arrow.right {
  right: 10px;
}
/* Keep arrows in the hero column and above thumbs */
.gallery { display: grid; grid-template-columns: 1fr 92px; } /* you already have this */
.gallery .hero-wrap { grid-column: 1; position: relative; }  /* NEW */
.gallery .thumbs    { grid-column: 2; position: relative; z-index: 1; } /* ensure thumbs sit below arrows */
.gallery .nav-arrow { z-index: 5; } /* your 10 is fine too */
@media (max-width: 640px){
  .gallery { grid-template-columns: 1fr; }
  .gallery .thumbs { grid-column: 1; }  /* thumbs drop below on mobile (you already have similar rules) */
}
/* Limit gallery width only on product pages (desktop) */
.product-detail .gallery {
  max-width: 760px;   /* adjust to taste: 700–800px looks good */
  margin: 0 auto;     /* center the gallery */
}
/* Product detail gallery: thumbs below main image */
.product-detail .gallery {
  display: grid;
  grid-template-columns: 1fr;   /* single column */
  gap: 0.75rem;
  justify-items: center;        /* center thumbs below hero */
  max-width: 760px;
  margin: 0 auto;
}

.product-detail .gallery .hero-wrap {
  width: 100%;
  position: relative;
}

.product-detail .gallery .thumbs {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;      /* center thumbnails row */
}

.product-detail .gallery .thumbs img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
}
/* Force product thumbs UNDER the main image on all widths */
.gallery { grid-template-columns: 1fr !important; }      /* single column */
.gallery .hero-wrap { grid-column: 1; }
.gallery .thumbs {
  grid-column: 1 !important;
  flex-direction: row !important;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: .5rem;
}
.gallery .thumbs img { width: 84px; height: 84px; }
/* === Desktop gallery fix: tighten width when thumbs are below === */
@media (min-width: 641px) {
  .gallery {
    grid-template-columns: 1fr;   /* only one column (main image) */
    max-width: 800px;             /* cap the width of the gallery */
    margin: 0 auto;               /* center it */
  }

  .gallery .hero-wrap {
    max-width: 100%;
  }

  .gallery .thumbs {
    flex-direction: row;
    justify-content: center;
    margin-top: 12px;
  }
  .gallery .thumbs img {
    width: 72px;
    height: 72px;
  }
}
/* Override white letterbox bars on gallery hero image */
.gallery > img,
.gallery .product-hero {
  background: #0d0f14 !important;
  border: 1px solid var(--border) !important;
}
.custom-link {
  text-align: left;
  margin-top: 6px;
  line-height: 1.4;
}
.custom-link a {
  display: inline-block;
}
.custom-link {
  text-align: left !important;
  margin-top: 6px;
  margin-left: 3;
  line-height: 1.4;
}

.custom-link a {
  display: inline-block;
  text-align: left;
}
/* Force left alignment for custom link inside featured cards */
.featured-card .custom-link {
  text-align: left !important;
  display: block !important;
  width: 100%;
  margin-top: 20px;
  padding-left: 4px;
}

.featured-card .custom-link a {
  display: inline-block;
  text-align: left !important;
}
/* Make custom stenciling and more details align visually */
.featured-card .more-details {
  text-align: left !important;
  margin-top: 10px;
  margin-bottom: 0;
  line-height: 1.3;
}

.featured-card .custom-link {
  margin-top: 14px !important;
  margin-bottom: -2px; /* this helps visually align with More details */
}
.stencil-text {
  font-family: 'Black Ops One', sans-serif;
  font-size: 0.9rem;
  color: #fff;            /* keep white like your normal text */
  letter-spacing: 0.5px;
  font-weight: 400;
}

.green-link {
  color: #00cc44;         /* bright green like your existing button text */
  font-weight: 600;
  margin-left: 4px;
  text-decoration: none;
  border-bottom: 1px dotted #00cc44;
  transition: color .2s, border-color .2s;
}

.green-link:hover {
  color: #00ff66;
  border-color: #00ff66;
}