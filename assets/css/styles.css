/* === Imports === */
@import url('https://fonts.googleapis.com/css2?family=Satisfy&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap');

/* === Root Variables === */
:root {
  --bg:#0f0f12;
  --panel:#16181d;
  --muted:#8b94a7;
  --text:#e9edf5;
  --brand:#2ecc71;
  --danger:#ff6b6b;
  --border:#242632;
  --link:#9bc2ff;
}

/* === Fluid type scale + rhythm === */
:root{
  --step--1: clamp(.86rem, .84rem + .2vw, .95rem);
  --step-0:  clamp(1rem,  .98rem + .2vw, 1.06rem);
  --step-1:  clamp(1.13rem,1.08rem + .35vw,1.25rem);
  --step-2:  clamp(1.28rem,1.18rem + .65vw,1.45rem);
  --step-3:  clamp(1.5rem, 1.32rem + 1vw,  1.8rem);
  --step-4:  clamp(1.9rem, 1.6rem  + 1.8vw, 2.4rem);

  --rhythm-1: .25rem;
  --rhythm-2: .5rem;
  --rhythm-3: .75rem;
  --rhythm-4: 1rem;
  --rhythm-5: 1.5rem;
  --rhythm-6: 2rem;
}

body { line-height: 1.6; letter-spacing: .01em; }
h1 { font-size: var(--step-4); line-height: 1.15; margin:.4em 0 .25em; }
h2 { font-size: var(--step-3); line-height: 1.2;  margin:.6em 0 .35em; }
h3 { font-size: var(--step-2); line-height: 1.25; margin:.6em 0 .35em; }
h4 { font-size: var(--step-1); line-height: 1.3;  margin:.6em 0 .35em; }
p { margin: 0 0 var(--rhythm-4); max-width: 70ch; }
small, .small { font-size: var(--step--1); }
.muted { color: var(--muted); opacity:.95; }

/* === Base === */
* { box-sizing: border-box; }
html, body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font: 16px/1.55 system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
a { color: var(--link); text-decoration: none; }
.container { max-width: 1100px; margin: 0 auto; padding: 24px; }
.container.wide { max-width: 1240px; }
.narrow { max-width: 900px; margin: 0 auto; }
.hidden { display: none; }

/* === Accessibility helpers === */
.sr-only{
  position:absolute !important;
  width:1px !important;
  height:1px !important;
  padding:0 !important;
  margin:-1px !important;
  overflow:hidden !important;
  clip:rect(0,0,0,0) !important;
  white-space:nowrap !important;
  border:0 !important;
}
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:static; width:auto; height:auto; padding:.5rem;
  background:#000; color:#fff; border-radius:.25rem;
}

/* === Site Header === */
.site-header {
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 12px 20px;
  background: linear-gradient(180deg,#0f0f12,rgba(15,15,18,.9));
  border-bottom: 1px solid var(--border);
}

/* Nav (cart forced to far right) */
.site-header .nav {
  display: flex;
  align-items: center;
  gap: .75rem;
  flex-wrap: wrap;
  justify-content: space-between;
}

.nav a {
  margin-left: 20px;
  color: var(--text);
  padding: 8px 10px;
  border-radius: 8px;
  font-weight: 600;
  white-space: nowrap;
}
.nav .cart-link { margin-left: auto; order: 99; }
.nav a:hover,
.nav a.active,
.nav a[aria-current="page"] {
  background: #1a1d26;
  color: var(--brand);
}

/* Tagline Centering (under main title on home) */
.tagline {
  text-align: center;
  margin: 0.5rem auto;
}

/* Full-width banner wrapper (home hero image) */
.banner { width: 100%; margin: 0; padding: 0; }
.banner img { width: 100%; height: auto; display: block; }

/* --- Maintenance banner + safety styles --- */
.maint-banner{
  background:#d90429;
  color:#fff;
  text-align:center;
  padding:10px 12px;
  font-weight:800;
  border-radius:8px;
  margin-bottom:8px;
  letter-spacing:.4px;
}
.maintenance .btn[data-add],
.maintenance .btn[data-buy],
.maintenance #sb-add,
.maintenance #sb-buy { pointer-events:none; opacity:.5; cursor:not-allowed; }
.maintenance a[href*="checkout.html"]{ pointer-events:none; opacity:.6; }

/* === Buttons === */
.btn {
  display: inline-block;
  background: var(--brand);
  color: #07130a;
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.3s ease;
}
.btn.ghost { background: transparent; border: 1px solid var(--brand); color: var(--text); }
.btn.sm { padding: 6px 10px; border-radius: 10px; }
.btn.danger { background: var(--danger); color: #210000; }
.btn:hover { background: #27ae60; }

/* === Cart Remove Button === */
.cart-row { position: relative; }
.remove-btn {
  background: none;
  border: 0;
  color: #fff;
  padding: 0;
  cursor: pointer;
  opacity: .8;
  display: inline-flex;
  align-items: center;
  position: absolute;
  bottom: 8px;
  right: 8px;
}
/* Mobile adjustment for trash icon */
@media (max-width:600px) {
  .cart-row .remove-btn {
    position: static;       /* don’t absolutely position */
    margin-top: 0.5rem;
    justify-content: center;
  }
}

.remove-btn:hover { opacity: 1; }
.remove-btn svg { width: 18px; height: 18px; display: block; }
.remove-btn:hover { opacity: 1; }
.remove-btn .label { font-size: 0.7rem; margin-left: 4px; }

/* === Hero Section (generic) === */
.hero { padding: 28px 20px; border-bottom: 1px solid var(--border); }
.hero h1 { margin: 0 0 8px; }
.actions { display: flex; gap: 10px; flex-wrap: wrap; }

/* === Grid / Cards === */
.grid { display: grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap: 16px; }
@media (max-width:900px){ .grid { grid-template-columns: repeat(2,minmax(0,1fr)); } }
@media (max-width:640px){ .grid { grid-template-columns: 1fr; } }

.card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.card .img { display: block; background: #0d0f14; position: relative; }
.card .ph { height: 170px; background: linear-gradient(135deg,#1c2030,#10131a); }
.card .soldout {
  position: absolute; top: 10px; left: 10px;
  background: var(--danger); color: #111;
  padding: 6px 10px; border-radius: 999px; font-weight: 800;
}
.card .fav {
  position: absolute; top: 10px; right: 10px;
  background: rgba(0,0,0,.45); backdrop-filter: blur(4px);
  border-radius: 999px; padding: 6px; cursor: pointer;
}
.card .fav svg { display: block; width: 20px; height: 20px; fill: #ffffff80; }
.card .fav.active svg { fill: #ff6b6b; }
.card .meta { padding: 14px; }
.card h3 { margin: 10px 0 6px; }
.card p { margin: 0 0 10px; color: var(--muted); }
.sku { font-size: 12px; color: var(--muted); }
.price-row { display: flex; justify-content: space-between; align-items: center; }
.price { font-weight: 800; }

/* === Misc === */
.notice { padding: 10px 0; color: #cfead7; }

/* === Product Page (gallery + info) === */
.product { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
@media (max-width:900px){ .product { grid-template-columns: 1fr; } }

/* Bulletproof gallery layout */
.gallery{
  display: grid !important;
  grid-template-columns: 1fr 92px;
  align-items: start;
  gap: 10px;
  background: #0d0f14;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px;
  min-height: 320px;
}
.gallery > img{
  grid-column: 1;
  width: 100%;
  height: auto;
  max-height: 420px;
  border-radius: 8px;
}
.gallery .thumbs{
  grid-column: 2;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.gallery .thumbs img{
  width: 80px;
  height: 80px;
  object-fit: cover;
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
}
/* Phones: thumbs below main image */
@media (max-width: 640px){
  .gallery{ grid-template-columns: 1fr; }
  .gallery .thumbs{
    grid-column: 1;
    flex-direction: row;
    overflow-x: auto;
    padding-bottom: 6px;
  }
  .gallery .thumbs img{ width: 72px; }
  /* Mobile: hide the header's shipping badge, keep the one under the title */
.site-header .shipping-banner { display: none !important; }
}

.product .info h1 { margin: 0 0 10px; }
.product .price { font-size: 22px; }
.product .buy-row { display: flex; gap: 10px; align-items: center; margin-top: 10px; }

/* === Tables === */
.table { width: 100%; border-collapse: collapse; }
.table th, .table td {
  border-bottom: 1px solid var(--border);
  padding: 10px;
  text-align: left;
}
.table .num { text-align: right; }

/* === Forms === */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-top: 20px;
}
.field { display: flex; flex-direction: column; }
.field.wide { grid-column: 1 / -1; }
label { font-weight: 600; margin-bottom: 6px; color: var(--text); }
input, select, textarea {
  padding: 10px 12px;
  border: 1px solid #444;
  border-radius: 6px;
  background: #111;
  color: var(--text);
  font-size: 15px;
}
input::placeholder, textarea::placeholder { color: #999; font-size: 14px; }
textarea { min-height: 140px; resize: vertical; }

/* === Title Strip === */
.site-title-strip { text-align: center; margin: 20px auto; }
.site-title-strip h1 {
  font-size: 3rem; font-weight: 900; margin: 0 0 0.5rem 0;
  font-family: "Black Ops One", system-ui, sans-serif;
  letter-spacing: 2px; text-transform: uppercase;
}
.site-title-strip p { font-size: 1.25rem; margin: 5px 0 0 0; font-weight: 400; }
.site-title-strip .slogan {
  font-family: 'Satisfy', cursive; font-size: 1.3rem; font-style: italic;
  margin-top: 5px; color: #ffffff;
}

/* === Product Detail Page === */
.product-detail { max-width: 900px; margin: 0 auto; padding: 20px; }
.product-detail .product-hero { width: 100%; height: auto; border-radius: 8px; margin: 0 0 16px; }
.product-detail h1 { margin: 8px 0 6px; }
.branch-label {
  font-family: "Black Ops One", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 700; letter-spacing: 1px; font-size: 1.05rem; text-transform: uppercase;
  color: var(--link); opacity: 1; display: inline-block; margin: -.25rem 0 .5rem;
}
.product-detail .muted { color: var(--muted); margin-bottom: 14px; }
.product-detail label { display: block; font-weight: 600; margin: 14px 0 6px; }
.product-detail select {
  width: 100%; padding: 10px 12px; background: #0e1013; color: #fff;
  border: 1px solid var(--border); border-radius: 8px;
}
.product-detail .price { font-size: 1.4rem; font-weight: 700; margin: 16px 0 8px; }
.product-detail .actions { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 8px; }
.product-detail .btn.ghost { background: transparent; border: 1px solid var(--brand); }

/* === Product description lists === */
.product-description ul,
.product-description ol { margin: 0.75rem 0 0.5rem 1.25rem; padding: 0; }
.product-description li { margin: 0.25rem 0; line-height: 1.5; }
.product-description strong { font-weight: 600; display: inline-block; margin-bottom: 0.25rem; }

/* === Cart qty controls === */
.qty-cell { display: inline-flex; flex-direction: column; align-items: center; gap: 6px; }
.qty-cell .qty { width: 70px; text-align: center; -moz-appearance: textfield; }
.qty-cell .qty-inc,
.qty-cell .qty-dec {
  padding: 6px 10px; border: 1px solid var(--border);
  background: #0e1013; color: var(--text); border-radius: 8px; line-height: 1;
}
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

/* === Cart Totals Alignment Fix === */
.cart-summary {
  display: flex; justify-content: space-between; align-items: center; padding: 12px 16px;
}
.cart-summary .label { flex: 1; text-align: right; padding-right: 10px; }
.cart-summary .value { font-weight: 600; }

/* === Inventory/stock + image fixes === */
.card .stock-badge{ position:absolute; top:2.2rem; left:.5rem; z-index:2; }
.card.no-title-overlay .img::before{ content:none !important; display:none !important; }
.product-hero{ width:100%; height:auto; display:block; object-fit:cover; }
.card .img::before { content: none !important; display: none !important; }
.card .img img { width:100%; height:auto; display:block; object-fit:cover; }

/* === Coming Soon diagonal ribbon === */
.card.coming-soon { position: relative; overflow: hidden; }
.card.coming-soon::after {
  content: "COMING SOON";
  position: absolute; top: 40px; left: -50px; width: 220px;
  text-align: center; transform: rotate(-45deg);
  background: #ff0000; color: #fff; font-weight: 900;
  font-size: 1rem; padding: 6px 0; z-index: 3; letter-spacing: 1px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5);
}

/* Force product titles under images to be white */
.card h3 a { color: #fff !important; font-weight: 900; }

/* Optional low-stock ribbon */
.card.low-stock::after {
  content: attr(data-stock);
  position: absolute;
  top: 12px; left: -45px; width: 160px;
  transform: rotate(-45deg);
  background: #ff0000; color: #fff; font-weight: 900;
  font-size: 0.9rem; text-align: center; padding: 4px 0; z-index: 3;
  letter-spacing: 0.5px; box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}

/* Stock quantity label */
.card .stock-label { color: #ff4d4d; font-weight: 800; font-size: 0.95rem; }

/* Under-photo quantity badge (in meta) */
.card .meta .stock-badge {
  position: static; display: inline-block; margin: 6px 0 8px;
  padding: 4px 8px; background: #ff0000; color: #fff;
  font-weight: 800; border-radius: 6px; font-size: 0.9rem; line-height: 1;
}
.card .img .stock-badge { display: none !important; }

/* === Lightbox overlay === */
.lightbox{
  position: fixed; inset: 0; display: none; place-items: center;
  background: rgba(0,0,0,.8); z-index: 10000; padding: 16px;
}
.lightbox.open{ display: grid; }
.lightbox img{
  max-width: min(92vw, 1200px); max-height: 92vh;
  border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,.6);
}
.lightbox .ctrl,
.lightbox .close{
  position: absolute; background: rgba(0,0,0,.55); color: #fff;
  border: 1px solid rgba(255,255,255,.25); width: 44px; height: 44px;
  border-radius: 999px; font-size: 28px; line-height: 42px;
  text-align: center; cursor: pointer; user-select: none;
}
.lightbox .prev{ left: 12px;  top: 50%; transform: translateY(-50%); }
.lightbox .next{ right: 12px; top: 50%; transform: translateY(-50%); }
.lightbox .close{ right: 12px; top: 12px; font-size: 22px; line-height: 42px; }

/* Hint cursor on the main product image */
.gallery .product-hero{ cursor: zoom-in; }

/* Make entire product card clickable */
.product-card{ position:relative; cursor:pointer; }
.product-card .overlay-link{ position:absolute; inset:0; z-index:5; text-indent:-9999px; overflow:hidden; }
.product-card .actions, .product-card .fav { position:relative; z-index:10; }

/* === Personalization UI (2 lines × 30 chars) === */
.opt-row{margin:.75rem 0}
.check{display:flex;gap:.5rem;align-items:center}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.help{display:block;opacity:.8;margin-top:.25rem}
.inline-hint{font-size:.9rem;opacity:.85;margin-top:.5rem}
.error{color: var(--danger); margin-top:.4rem; font-size:.92rem}
.btn.disabled{opacity:.6;pointer-events:none}
@media (max-width:640px){ .grid2{grid-template-columns:1fr;} }

/* Clamp product card descriptions */
.product-card .meta p{
  display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;
  overflow: hidden; text-overflow: ellipsis;
}

/* ==== Featured cards (Classic + RM400) ==== */
.featured-wrap { margin: 2rem 0; }
.featured-card{
  display: grid; gap: 1rem; grid-template-columns: 1fr;
  padding: 1rem; border: 1px solid var(--border); border-radius: 8px;
  background: rgba(255,255,255,.02); max-width: 1100px; margin: 0 auto; overflow: hidden;
}
@media (min-width: 880px){
  .featured-card{ grid-template-columns: minmax(0,1.2fr) minmax(0,1fr); align-items: start; }
}
.featured-card > .fc-media,
.featured-card > .fc-controls { min-width: 0; }
.fc-media img{
  max-width: 100%; height: auto; border-radius: 6px; display: block;
  transition: opacity .25s ease; opacity: 1;
}
.fc-media img.is-loading{ opacity: 0; }
.fc-controls label{ font-weight: 600; display: block; margin: .5rem 0 .25rem; }
.fc-row{ display: flex; align-items: center; gap: 1rem; margin: .75rem 0; }
.fc-btn{ padding: .75rem 1.25rem; border-radius: 6px; cursor: pointer; }
.fc-note{ opacity: .75; font-size: .9rem; }
.option-row{ margin-bottom: .5rem; }
#classic-box, #rm400-card{ max-width: 1100px; margin: 2rem auto; }

/* ==== RM400 Details & Specs ==== */
.details-wrap { max-width: 1000px; margin: 2rem auto; padding: 1rem; }
.details-card {
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px; background: rgba(255,255,255,0.02);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15); overflow: hidden;
}
/* Toggle button */
.details-toggle{
  display: flex; justify-content: space-between; align-items: center; width: 100%;
  font-size: 1.25rem; font-weight: 800; padding: 1rem; background: #12141a;
  border: none; cursor: pointer; color: var(--text);
}
.details-toggle svg{ transition: transform .2s ease; }
.details-toggle[aria-expanded="true"] svg{ transform: rotate(180deg); }
/* Body */
.details-body { padding: 1.25rem; border-top: 1px solid var(--border); }
.details-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; }
@media (min-width: 880px){ .details-grid { grid-template-columns: 1.15fr 1fr; } }
/* Media */
.details-media img{
  max-width: 100%; border-radius: 8px; display: block; background: #0d0f14; border: 1px solid var(--border);
}
.thumbs-mini { display: flex; gap: .5rem; margin-top: .75rem; flex-wrap: wrap; }
.thumbs-mini button{
  font-weight: 700; font-size: .85rem; padding: .35rem .5rem; border: 1px solid rgba(255,255,255,0.2);
  border-radius: 6px; background: #0e1013; color: var(--text); cursor: pointer;
}
.thumbs-mini button.active { outline: 2px solid var(--brand); }
/* Info */
.details-info .lede { font-size: 1rem; margin-bottom: 1rem; opacity: .95; }
.details-info h4 { margin: .6rem 0 .35rem; font-size: 1.1rem; }
.bullets { margin: .5rem 0; padding-left: 1.25rem; list-style: disc; }
.bullets li + li { margin-top: .35rem; }
/* Actions */
.details-actions { margin-top: .75rem; display: flex; gap: .5rem; flex-wrap: wrap; }
.details-actions .btn { flex: 1; }

/* Final override: cart trash icon should be icon-only */
#cartContainer .remove-btn,
.cart-card .remove-btn,
.cart-row .remove-btn{
  background: none !important; border: 0 !important; padding: 0 !important;
  border-radius: 0 !important; box-shadow: none !important;
}
#cartContainer .remove-btn svg { display: block; }

/* === Homepage tagline centering === */
.site-title-strip,
.site-title-strip p,
.site-title-strip .slogan,
.tagline {
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}

/* === Full-width banner (image element only) === */
.banner,
.hero-banner,
.full-bleed {
  width: 100%;
  max-width: 100%;
  margin: 0;
  padding: 0;
}
.banner img,
.hero-banner img,
.full-bleed img {
  display: block;
  width: 100%;
  height: auto;
}
/* No background-image on .hero-banner — prevents double layer */
.hero-banner { background: none !important; }
/* === Mobile fix: keep trash can bottom-right === */
@media (max-width: 600px) {
  .cart-row {
    position: relative;
    padding-bottom: 2.5rem; /* make room for the trash can */
  }

  .cart-row .remove-btn {
    position: absolute;
    bottom: 8px;
    right: 8px;
    margin-top: 0;   /* reset any push from earlier */
    justify-content: flex-end;
  }
}
/* === Stripe Button (professional style) === */
#stripe-pay {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.75rem;
  background: linear-gradient(135deg, #635bff, #5146d8);
  color: #fff;
  font-weight: 600;
  font-size: 16px;
  padding: 14px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  width: 100%;
  max-width: 420px;
  margin: 0.5rem auto;
  transition: background 0.25s ease, transform 0.1s ease;
}

#stripe-pay:hover {
  background: linear-gradient(135deg, #5146d8, #3c32b8);
}

#stripe-pay:active {
  transform: scale(0.98);
}

.stripe-trust {
  display: block;
  margin-top: 6px;
  text-align: center;
  font-size: 0.8rem;
  color: #aaa;
}

.stripe-trust .stripe-word {
  color: #635bff;
  font-weight: 700;
}
/* Feature card link styling */
.feature-link {
  color: inherit;
  text-decoration: none;
}
.feature-link:hover {
  text-decoration: underline;
}
/* Tighten the tap target for the Branch dropdown on the featured card */
#classic-box .fc-controls label[for="sb-branch"] {
  display: inline;          /* stop the label from spanning the full row */
  padding: 0;               /* remove any extra hit area */
  margin: 0 .35rem 0 0;     /* tiny gap before the select */
  cursor: default;
}

#classic-box #sb-branch {
  display: inline-block;
  min-width: 220px;         /* keeps it readable without being huge */
  max-width: 100%;
}

/* Make sure nothing outside the select/label triggers it */
#classic-box .fc-controls {
  position: relative;
  z-index: 3;               /* stays above any overlay links */
}
#classic-box .fc-controls * {
  pointer-events: auto;     /* ensure controls capture their own taps */
}
.more-details {
  text-align: right;        /* pushes link to the right side */
  margin-top: 0.5rem;       /* little breathing room above */
  font-size: 0.9rem;        /* slightly smaller than body text */
}

.more-details a {
  color: #4CAF50;           /* match your green button style */
  text-decoration: none;    /* remove underline */
  font-weight: 600;         /* make it stand out */
}

.more-details a:hover {
  text-decoration: underline; /* subtle hover effect */
}
/* Ensure the product card acts as a positioning context */
.featured-card {
  position: relative;
}

/* --- More details link pinned to card bottom-right --- */
.featured-card { position: relative; }

/* give the controls extra room so the link never overlaps text/buttons */
.featured-card .fc-controls { position: relative; padding-bottom: 64px; }

/* anchor the link tighter to the bottom edge */
.more-details {
  position: absolute;
  right: 16px;
  bottom: 6px;           /* adjust this value for spacing */
  margin: 0;
  font-size: .95rem;
  line-height: 1;
}

.more-details a {
  color: var(--brand-accent, #39d353); /* or your accent green */
  text-decoration: none;
  border-bottom: 1px dotted currentColor;
}

.more-details a:hover { text-decoration: underline; }
/* Put the mini price guide under the total on feature cards */
.featured-card .fc-row > small.fc-note {
  display: block;
  margin-top: .25rem;
  opacity: .9;               /* optional: slightly muted */
}

/* === Header layout (desktop: brand | nav | banner; mobile tweaks below) === */
.site-header{
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 20px;
  background: linear-gradient(180deg,#0f0f12,rgba(15,15,18,.9));
  border-bottom: 1px solid var(--border);
  flex-wrap: wrap;                 /* prevents overlap if space is tight */
  justify-content: space-between;
}

/* brand */
.site-header .brand{ display:flex; align-items:center; gap:12px; color:#fff; }
.site-header .brand img{ width:60px; height:60px; border-radius:50%; object-fit:cover; border:2px solid #fff; }

/* nav (desktop) */
.site-header .nav{
  display:flex; align-items:center; gap:.75rem;
  flex:1 1 auto; min-width:0;      /* use remaining space between brand and banner */
  flex-wrap: wrap;                  /* allow wrap on desktop instead of overlap */
}
.nav a{
  margin-left:20px;
  color:var(--text);
  padding:8px 10px;
  border-radius:8px;
  font-weight:600;
  white-space:nowrap;
}
.nav .cart-link{ margin-left:auto; order:99; }
.nav a:hover, .nav a.active, .nav a[aria-current="page"]{ background:#1a1d26; color:var(--brand); }

/* shipping banner (desktop look) */
.shipping-banner{
  flex:0 0 auto;
  display:flex; align-items:center; gap:.4rem;
  padding:.35rem .6rem;
  font-size:.95rem; line-height:1.2;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.15);
  border-radius:.5rem;
  margin-left:auto;                /* far-right on wide screens */
}
.shipping-banner .flag{ font-size:1.05rem; }
.shipping-banner .label-mobile{ display:none; }

/* ===== MOBILE (<=640px) — top row: 5 links; second row: Cart + Shipping together ===== */
@media (max-width: 640px){
  /* let brand, each nav link, and shipping share the same flex context */
  .site-header{
    flex-wrap: wrap;
    align-items: center;
  }
  .site-header .nav{
    display: contents;             /* nav children become direct flex items of header */
  }

  /* --- Top row: 5 links centered --- */
  .nav a[href="index.html"]   { order: 10; }
  .nav a[href="about.html"]   { order: 11; }
  .nav a[href="gallery.html"] { order: 12; }
  .nav a[href="reviews.html"] { order: 13; }
  .nav a[href="contact.html"] { order: 14; }  /* Custom Orders stays in the top row */

  .nav a{
    margin: 0;
    padding: 6px 6px;
    font-size: .95rem;
    white-space: nowrap;
  }

  /* separators between the top-row links (not before the first) */
  .nav a[href="about.html"]::before,
  .nav a[href="gallery.html"]::before,
  .nav a[href="reviews.html"]::before,
  .nav a[href="contact.html"]::before{
    content: "|";
    opacity: .45;
    margin: 0 .24rem;
  }

  /* --- Second row: Cart + Free Shipping together, right-aligned --- */
  .nav .cart-link,
  .shipping-banner{
    order: 20;                     /* same order so they sit next to each other */
    display: inline-flex;
    align-items: center;
    gap: .45rem;
    flex: 0 1 auto;
    white-space: nowrap;           /* keep each item on one line */
  }

  .nav .cart-link{
    margin-left: auto;             /* pushes the pair to the right edge */
    padding-right: 0;
  }

  .shipping-banner{
    margin-left: .6rem;            /* small gap after Cart */
    background: none !important;   /* remove pill/shadow on mobile */
    border: none !important;
    padding: 0 !important;
    font-size: .95rem;
  }
  .shipping-banner .label-desktop{ display: none !important; }
  .shipping-banner .label-mobile { display: inline !important; }
  .shipping-banner .flag{ font-size: 1.05rem; }

  /* tiny phones: nudge sizes down a hair */
  @media (max-width: 400px){
    .nav a{ font-size: .9rem; padding: 6px 4px; }
    .shipping-banner{ font-size: .9rem; }
  }
}

/* ===== Tablet helper (<=900px): keep spacing sane without changing layout ===== */
@media (max-width: 900px){
  .site-header{ align-items: flex-start; }
  .site-header .nav{ gap: .5rem; }
}
/* Inline quantity (replaces old stock badge) */
.product-card .qty-text {
  font-size: 0.9rem;
  color: var(--muted);
  margin: 0 0 0.35rem;
  font-weight: 600;
}
/* ---------- Product gallery sizing (prevents zoom/crop) ---------- */

/* Main gallery wrapper (name it to match your product page markup) */
.product-gallery {
  display: grid;
  grid-template-columns: 1fr auto; /* main image + right-side thumbs */
  gap: 1rem;
  align-items: start;
}

/* Main image frame */
.product-main {
  /* If your HTML uses a div for the big image, keep this block */
  position: relative;
  width: 100%;
  /* Choose an aspect you like for the big frame; 4/3 is friendly for product shots */
  aspect-ratio: 4 / 3;
  background: #fff;
  border: 1px solid #e5e5e5;
  border-radius: 4px;
  overflow: hidden;            /* hides any overflow but we'll contain anyway */
}

/* If you use an <img> inside .product-main, this keeps the entire photo visible */
.product-main img {
  width: 100%;
  height: 100%;
  object-fit: contain;         /* <-- key: no cropping, no zooming */
  display: block;
}

/* If instead you use background-image on the main frame, use these: */
.product-main.is-bg {
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;    /* <-- key: no cropping, no zooming */
}

/* Thumbnail rail on the right */
.product-thumbs {
  display: grid;
  gap: 0.5rem;
}

/* Thumb buttons/cards */
.product-thumbs button,
.product-thumbs a {
  width: 84px;                 /* fixed, tidy thumb size */
  aspect-ratio: 1 / 1;
  padding: 0;
  border: 1px solid #e5e5e5;
  border-radius: 4px;
  background: #fff;
  overflow: hidden;
  cursor: pointer;
}

/* Make thumbs fill their square nicely without warping */
.product-thumbs img {
  width: 100%;
  height: 100%;
  object-fit: cover;           /* thumbs can crop to look uniform */
  display: block;
}

/* Active thumb state */
.product-thumbs .is-active {
  outline: 2px solid #222;
  outline-offset: 2px;
}
/* === FIX: product detail gallery main image should never crop === */
.gallery > img,
.gallery .product-hero {
  width: 100%;
  height: auto;
  max-height: 65vh;          /* lets tall images fit without blowing up */
  object-fit: contain !important; /* ensure no zoom/crop even if other rules say 'cover' */
}
.gallery .thumbs img{
  width: 80px;
  height: 80px;
  object-fit: cover;
}
/* === Consistent aspect ratio for product detail main image === */
.gallery > img,
.gallery .product-hero {
  width: 100%;
  height: 100%;
  aspect-ratio: 4 / 3;         /* keeps every image the same shape */
  object-fit: contain !important;
  background: #fff;            /* neutral background behind images */
  border-radius: 8px;
  border: 1px solid #e5e5e5;   /* subtle frame */
}
/* === Monthly Giveaway Banner (refined) === */
.giveaway-banner {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0.35rem 0.5rem;
  background: linear-gradient(90deg, #0b1114, #10161b);
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.giveaway-banner .giveaway-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  text-decoration: none;
  color: #fff;
  font-weight: 700;
  letter-spacing: 0.3px;
  line-height: 1;
  transition: opacity 0.2s ease;
}

.giveaway-banner .giveaway-link:hover {
  opacity: 0.85;
}

.giveaway-banner .flag {
  width: 22px;
  height: auto;
  display: inline-block;
  vertical-align: middle;
  border-radius: 2px;
}

.giveaway-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  text-decoration: none;
  color: #fff;
  font-weight: 700;
  letter-spacing: 0.2px;
  line-height: 1;
}

.giveaway-link .flag {
  width: 36px;
  height: auto;
  display: inline-block;
  vertical-align: middle;
  border-radius: 2px;
}

/* Optional: shrink flags slightly on desktop */
@media (min-width: 768px) {
  .giveaway-link .flag {
    width: 22px;
  }
}

.giveaway-banner a{ color:#fff; text-decoration:none; }
.giveaway-banner a:hover{ text-decoration:underline; }
/* --- Giveaway pages: stop horizontal overflow on mobile --- */

.give-wrap, .container {
  box-sizing: border-box;
  max-width: 1200px;
  margin: 0 auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* make sure gallery images never exceed the column */
.gallery-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.gallery-grid img { max-width: 100%; height: auto; display: block; }

/* avoid long rows pushing the width */
.badge-row, .btn-row { flex-wrap: wrap; }
/* --- Giveaway Thanks page: contain width on mobile --- */
.giveaway-thanks .container{
  box-sizing: border-box;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* make the gallery an actual grid and keep it inside the viewport */
.giveaway-thanks #branch-collection .gallery-grid{
  display: grid;
  gap: .75rem;
  grid-template-columns: 1fr;                 /* phones */
}
@media (min-width: 700px){
  .giveaway-thanks #branch-collection .gallery-grid{
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (min-width: 1024px){
  .giveaway-thanks #branch-collection .gallery-grid{
    grid-template-columns: repeat(3, 1fr);
  }
}

/* images should never overflow the column */
.giveaway-thanks img,
.giveaway-thanks svg,
.giveaway-thanks video,
.giveaway-thanks canvas{
  max-width: 100%;
  height: auto;
  display: block;
}
/* Kill UA side-margins on <figure> so it can't cause horizontal overflow */
figure { margin: 0 0 1rem; }

/* Last-resort clamps to prevent any stray child from widening the page */
.container { max-width: 100%; overflow-x: clip; }
.giveaway-thanks .container { overflow-x: clip; } /* scoped to the thanks page */

/* Safe global media guard (you already have a scoped one, but global is fine) */
img, svg, video, canvas { max-width: 100%; height: auto; display: block; }
/* === Re-enable horizontal scrolling site-wide === */
html, body { overflow-x: auto; }          /* allow sideways scroll if content is wider */

/* Undo earlier clipping that hid the overflow */
.container,
.giveaway-thanks .container { overflow-x: visible; }  /* don't clip off-screen content */
/* Center gallery arrows vertically */
.gallery {
  position: relative; /* so arrows can position inside */
}

.gallery .nav-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%); /* perfectly centers vertically */
  background: rgba(0,0,0,0.5);
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.gallery .nav-arrow.left {
  left: 10px;
}

.gallery .nav-arrow.right {
  right: 10px;
}
/* Keep arrows in the hero column and above thumbs */
.gallery { display: grid; grid-template-columns: 1fr 92px; } /* you already have this */
.gallery .hero-wrap { grid-column: 1; position: relative; }  /* NEW */
.gallery .thumbs    { grid-column: 2; position: relative; z-index: 1; } /* ensure thumbs sit below arrows */
.gallery .nav-arrow { z-index: 5; } /* your 10 is fine too */
@media (max-width: 640px){
  .gallery { grid-template-columns: 1fr; }
  .gallery .thumbs { grid-column: 1; }  /* thumbs drop below on mobile (you already have similar rules) */
}
/* Limit gallery width only on product pages (desktop) */
.product-detail .gallery {
  max-width: 760px;   /* adjust to taste: 700–800px looks good */
  margin: 0 auto;     /* center the gallery */
}
/* Product detail gallery: thumbs below main image */
.product-detail .gallery {
  display: grid;
  grid-template-columns: 1fr;   /* single column */
  gap: 0.75rem;
  justify-items: center;        /* center thumbs below hero */
  max-width: 760px;
  margin: 0 auto;
}

.product-detail .gallery .hero-wrap {
  width: 100%;
  position: relative;
}

.product-detail .gallery .thumbs {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;      /* center thumbnails row */
}

.product-detail .gallery .thumbs img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
}
/* Force product thumbs UNDER the main image on all widths */
.gallery { grid-template-columns: 1fr !important; }      /* single column */
.gallery .hero-wrap { grid-column: 1; }
.gallery .thumbs {
  grid-column: 1 !important;
  flex-direction: row !important;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: .5rem;
}
.gallery .thumbs img { width: 84px; height: 84px; }
/* === Desktop gallery fix: tighten width when thumbs are below === */
@media (min-width: 641px) {
  .gallery {
    grid-template-columns: 1fr;   /* only one column (main image) */
    max-width: 800px;             /* cap the width of the gallery */
    margin: 0 auto;               /* center it */
  }

  .gallery .hero-wrap {
    max-width: 100%;
  }

  .gallery .thumbs {
    flex-direction: row;
    justify-content: center;
    margin-top: 12px;
  }
  .gallery .thumbs img {
    width: 72px;
    height: 72px;
  }
}
/* Override white letterbox bars on gallery hero image */
.gallery > img,
.gallery .product-hero {
  background: #0d0f14 !important;
  border: 1px solid var(--border) !important;
}
.custom-link {
  text-align: left;
  margin-top: 6px;
  line-height: 1.4;
}
.custom-link a {
  display: inline-block;
}
.custom-link {
  text-align: left !important;
  margin-top: 6px;
  margin-left: 3;
  line-height: 1.4;
}

.custom-link a {
  display: inline-block;
  text-align: left;
}
/* Force left alignment for custom link inside featured cards */
.featured-card .custom-link {
  text-align: left !important;
  display: block !important;
  width: 100%;
  margin-top: 20px;
  padding-left: 4px;
}

.featured-card .custom-link a {
  display: inline-block;
  text-align: left !important;
}
/* Make custom stenciling and more details align visually */
.featured-card .more-details {
  text-align: left !important;
  margin-top: 10px;
  margin-bottom: 0;
  line-height: 1.3;
}

.featured-card .custom-link {
  margin-top: 14px !important;
  margin-bottom: -2px; /* this helps visually align with More details */
}
.stencil-text {
  font-family: 'Black Ops One', sans-serif;
  font-size: 0.9rem;
  color: #fff;
  letter-spacing: 0.5px;
  display: block;
  margin-bottom: 2px;
}

.green-link {
  color: #00cc44;
  font-weight: 600;
  text-decoration: none;
  border-bottom: 1px dotted #00cc44;
  transition: color .2s, border-color .2s;
  font-size: 0.85rem;
}

.green-link:hover {
  color: #00ff66;
  border-color: #00ff66;
}
/* ---------- Unified dropdown (Branch + Rangemaster) ---------- */
.fc-field{display:flex;flex-direction:column;gap:.4rem;margin:.9rem 0}
.fc-label{font-weight:600;letter-spacing:.02em}

.fc-select{
  width:100%;
  padding:.85rem 2.6rem .85rem .9rem;
  font:inherit;
  border:1px solid var(--border);
  border-radius:12px;
  background:#0e1013;            /* matches your dark inputs */
  color:var(--text);
  outline:none;
  appearance:none; -webkit-appearance:none;
  line-height:1.2;
  transition:border-color .15s, box-shadow .15s, background .15s;
}

.fc-select:focus{
  border-color:#2162ff;          /* same blue you use elsewhere */
  box-shadow:0 0 0 3px color-mix(in srgb, #2162ff 35%, transparent);
}

/* caret icon */
.fc-select-wrap{position:relative}
.fc-select-wrap::after{
  content:"";
  position:absolute; right:.9rem; top:50%; translate:0 -50%;
  width:12px; height:12px; pointer-events:none; opacity:.7;
  background:currentColor;
  -webkit-mask:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5" fill="white"/></svg>') no-repeat center/contain;
          mask:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5" fill="white"/></svg>') no-repeat center/contain;
}

/* iOS dark list contrast */
select.fc-select option{background:#0f131a;color:#fff}
/* ===== Header v2 (Freedom Crate Co.) — place at END of stylesheet ===== */
:root{
  --brand:#2ecc71;
  --ink:#0c1424;
  --header: rgba(6,8,10,.82);
  --stroke: rgba(255,255,255,.14);
  --text:#fff;
}

/* Skip link (accessibility) */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:fixed; left:1rem; top:1rem; width:auto; height:auto; padding:.5rem .75rem;
  background:#111; color:#fff; border:1px solid var(--stroke); border-radius:.5rem; z-index:10000;
}

/* Giveaway banner (polished) */
.giveaway-banner{
  display:flex; justify-content:center; align-items:center;
  background:#0b1114; border-bottom:1px solid var(--stroke);
}
.giveaway-banner .giveaway-link{
  display:flex; align-items:center; gap:.5rem; color:#fff; text-decoration:none; padding:.45rem .75rem;
}
.giveaway-banner .giveaway-link .text{ font-weight:700; letter-spacing:.2px; }

/* Full-width bar */
.topbar{
  background:#0a0f13;
  border-bottom:1px solid rgba(255,255,255,.10);
  color:#d0d6dc;
  text-transform:uppercase;
  letter-spacing:.4px;
}

/* Inner container matches your main header width so the center aligns perfectly */
.topbar-inner{
  max-width:1100px;          /* match your .header-inner/container width */
  margin:0 auto;
  padding:.35rem .75rem;
  display:grid;
  grid-template-columns: 1fr auto 1fr;   /* left | center | right */
  align-items:center;
  gap:.5rem;
}

/* Centered text lives in the middle column */
.topbar .msg{
  grid-column:2;
  text-align:center;
  margin:0;
  line-height:1.2;
  white-space:nowrap;
}

/* Right flag pinned to the far edge */
.topbar .flag{
  grid-column:3;
  justify-self:end;
  width:120px;               /* adjust size */
  height:auto;
  display:block;
}

/* Mobile tweaks */
@media (max-width:640px){
  .topbar-inner{ grid-template-columns: 1fr auto 80px; }
  .topbar .flag{ width:80px; }
  .topbar .msg{ font-size:.9rem; }
}

.topbar .msg {
  text-align: center;
  opacity: 0.95;
}

.topbar .msg strong {
  color: #fff;
  font-weight: 700;
}

/* Always-visible header shadow */
.site-header {
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

/* Subtle shadow on scroll */
.site-header.scrolled {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  border-bottom-color: transparent;
}


/* Subtle shadow on scroll */
.site-header.scrolled {
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  border-bottom-color: transparent;
}
.header-inner{
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  max-width:1100px; margin:0 auto; padding:.6rem .9rem;
}

/* Brand */
.brand{ display:flex; align-items:center; gap:.6rem; color:#fff; text-decoration:none; }
.brand img{ border-radius:.5rem; }
.brand-tag{ font-size:.9rem; opacity:.85; white-space:nowrap; }

/* Mobile menu button */
.menu-btn{
  display:none; background:transparent; border:1px solid var(--stroke); border-radius:.5rem;
  width:42px; height:38px; align-items:center; justify-content:center; color:#fff;
}
.menu-icon, .menu-icon:before, .menu-icon:after{
  content:""; display:block; width:20px; height:2px; background:#fff; position:relative;
}
.menu-icon:before{ position:absolute; top:-6px; }
.menu-icon:after { position:absolute; top:6px; }

/* Primary nav */
.nav{ display:flex; align-items:center; gap:1rem; }
.nav a{ color:#fff; text-decoration:none; opacity:.95; padding:.35rem .25rem; border-radius:.4rem; }
.nav a:hover, .nav a:focus{ text-decoration:underline; }
.nav a[aria-current="page"]{ color:var(--brand); font-weight:700; text-decoration:none; }

/* Header CTAs (right side) */
.nav-cta{ display:flex; align-items:center; gap:.6rem; margin-left:.5rem; }
.btn{
  display:inline-block; padding:.6rem .9rem; border-radius:.55rem; text-decoration:none;
  border:1px solid var(--stroke); color:#fff;
}
/* Cart (far right with flag) */
.nav .cart-link {
  margin-left: auto; /* pushes cart to the far right */
  display: inline-flex;
  align-items: center;
  gap: .45rem;
  padding: 8px 10px;
  border-radius: 8px;
  color: var(--text, #fff);
  text-decoration: none;
  font-weight: 600;
  white-space: nowrap;
}

.nav .cart-link:hover {
  background: #1a1d26;
  color: var(--brand, #2ecc71);
}

.nav .cart-link .flag {
  width: 90px;
  height: auto;
  display: inline-block;
  vertical-align: middle;
margin-right: -30px; /* slight spacing before text */
}
.nav .cart-link {
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
}
.nav .cart-link .flag {
  transform: translateY(2px); /* nudge down slightly for perfect centering */
}
.nav .cart-link:hover {
  background: rgba(255,255,255,0.08);
  color: var(--brand, #2ecc71);
  transition: background 0.2s ease, color 0.2s ease;
}

.cart-icon {
  font-size: 1.2rem;
  margin-left: 4px;
}

.cart-count {
  background: var(--brand, #2ecc71);
  color: #000;
  border-radius: 50%;
  font-size: 0.75rem;
  padding: 2px 6px;
  margin-left: 4px;
  font-weight: 700;
}
.cart-svg {
  width: 22px;
  height: 22px;
  stroke: #fff; /* white outline */
  margin-left: 4px;
  vertical-align: middle;
  transition: stroke 0.3s ease;
}

.cart-link:hover .cart-svg {
  stroke: var(--brand, #2ecc71); /* turns green on hover */
}

/* Mobile layout */
@media (max-width: 640px) {
  .nav .cart-link {
    order: 99;
    margin-left: auto;
  }
}

.btn.ghost{ background:transparent; }
.btn.small{ padding:.45rem .7rem; font-size:.95rem; }
.btn:hover{ border-color:#fff; }
.btn.ghost:hover{ background:rgba(255,255,255,.06); }
.cart-link{ color:#fff; text-decoration:none; }
.cart-link:hover{ text-decoration:underline; }

/* Mobile behaviour */
@media (max-width: 900px){
  .menu-btn{ display:inline-flex; }
  .nav{
    position:fixed; inset:calc(60px + 2.2rem + 32px) 0 auto 0; /* under banner + topbar + header */
    display:grid; gap:.75rem; padding:1rem; background:#0b1114; border-top:1px solid var(--stroke);
    transform:translateY(-120%); transition:transform .2s ease-out;
  }
  .nav.open{ transform:translateY(0); }
  .nav-cta{ margin-top:.25rem; }
}

/* Subtle shadow when scrolled */
.scrolled .site-header{ box-shadow:0 8px 24px rgba(0,0,0,.25); }

/* Remove old shipping pill if it still exists */
.shipping-banner{ display:none !important; }
.brand-tag {
  display: none;
}
/* ===== FreedomCrate Logo Controls (final) ===== */
:root{
  --logo-h:90px;
  --logo-x:-150px;
  --logo-y:0px;
  --logo-scale:1;
  --logo-round:50%;  /*  ← this makes it perfectly circular  */
  --logo-border:2px; /* optional */
  --logo-border-color:#fff;
}

/* keep the brand from shrinking in the header row */
.site-header .brand{
  display:flex; align-items:center; gap:.6rem; color:#fff;
  flex:0 0 auto;
}

/* nudge / scale wrapper */
.site-header .brand .logo-wrap{
  display:inline-flex; align-items:center; justify-content:center;
  transform: translate(var(--logo-x), var(--logo-y)) scale(var(--logo-scale));
  transform-origin: left center;
}

/* the logo image (no squish) */
.site-header .brand img.logo{
  height: var(--logo-h);
  width: auto;
  aspect-ratio: auto;
  object-fit: contain;
  border-radius: var(--logo-round);
  border: var(--logo-border) solid var(--logo-border-color);
  display:block;
}

/* === Mobile header fixes (final integrated block) === */
@media (max-width: 640px){

  /* Reset off-canvas nav behavior so links are visible inline */
  .site-header .nav{
    position: static !important;
    inset: auto !important;
    transform: none !important;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;

    /* Grid layout: 3 items per row, wraps automatically */
    display: grid !important;
    grid-template-columns: repeat(3, auto);
    grid-auto-flow: row;
    grid-auto-rows: minmax(0, auto);
    justify-content: center;
    align-items: center;
    gap: 6px 10px;
    width: 100%;
    order: 3;
  }

  /* Hide hamburger menu on mobile since nav is visible */
  .menu-btn{ display: none !important; }

  /* Uniform, compact nav links */
  .site-header .nav a{
    margin: 0 !important;
    padding: 6px 8px !important;
    font-size: .95rem;
    white-space: nowrap;
  }

  /* Remove vertical bar separators */
  .site-header .nav a::before{ content: none !important; }

  /* Cart link placement and flag control */
  .site-header .nav .cart-link{
    margin: 0 !important;
    justify-self: end;
    order: 999;
  }
  .nav .cart-link .flag{ display: none; } /* hide big flag on small screens */

  /* CTA buttons full-width under nav links */
  .nav-cta{
    grid-column: 1 / -1;
    justify-content: center;
    gap: .5rem;
    margin: .25rem 0 0 0;
  }

  /* Logo size + offset fix */
  :root{
    --logo-x: 0px !important;
    --logo-h: 78px !important;
  }

  /* Center the logo block (change to margin-left:24px for slight right bias) */
  .site-header .brand{
    margin-left: auto;
    margin-right: auto;
  }

  /* Keep header flexible and prevent horizontal scroll */
  .header-inner{
    flex-wrap: wrap;
    align-items: center;
    gap: .6rem;
  }
  .site-header, .header-inner{ overflow: hidden; }
}
/* === Mobile header fixes (polished layout) === */
@media (max-width: 640px){

  /* Reset off-canvas nav so all links are visible */
  .site-header .nav{
    position: static !important;
    transform: none !important;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;

    /* Grid layout: wraps cleanly */
    display: grid !important;
    grid-template-columns: repeat(3, auto);
    grid-auto-flow: row;
    justify-content: center;
    align-items: center;
    gap: 6px 10px;
    width: 100%;
    order: 3;
  }

  /* Hide hamburger */
  .menu-btn{ display: none !important; }

  /* Compact nav links */
  .site-header .nav a{
    margin: 0 !important;
    padding: 6px 8px !important;
    font-size: .95rem;
    white-space: nowrap;
  }
  .site-header .nav a::before{ content: none !important; }

  /* Cart aligns right on same row, no wrapping */
  .site-header .nav .cart-link{
    grid-column: 3;
    justify-self: end;
    align-self: center;
    order: 999;
    margin-top: 4px;
  }
  .nav .cart-link .flag{ display: none; }

  /* CTA buttons span full width below nav links */
  .nav-cta{
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    gap: .5rem;
    margin-top: .35rem;
  }

  /* Logo adjustments */
  :root{
    --logo-x: 0px !important;
    --logo-h: 78px !important;
  }
  .site-header .brand{
    margin: 0 auto;
  }

  /* Header flex wrap */
  .header-inner{
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: .5rem;
  }
  .site-header, .header-inner{ overflow: hidden; }
}
/* === Mobile header: exactly 2 rows (4 columns) + logo fix === */
@media (max-width:640px){

  /* Un-hide/neutralize any off-canvas rules */
  .site-header .nav{
    position: static !important;
    inset: auto !important;
    transform: none !important;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;

    /* 2-row grid (4 columns) */
    display: grid !important;
    grid-template-columns: repeat(4, auto);
    grid-auto-flow: row;
    justify-content: center;
    align-items: center;
    gap: 6px 10px;
    width: 100%;
    order: 3;
  }

  /* Hide hamburger since nav is visible */
  .menu-btn{ display: none !important; }

  /* Compact link pills */
  .site-header .nav a{
    margin: 0 !important;
    padding: 6px 8px !important;
    font-size: .95rem;
    white-space: nowrap;
  }
  .site-header .nav a::before{ content: none !important; }

  /* Explicit ordering: 2 rows × 4 columns */
  .nav a[href="/"]{                   order:10; }  /* Shop */
  .nav a[href="/branch-collection.html"]{ order:11; }
  .nav a[href="/gallery.html"]{       order:12; }
  .nav a[href="/about.html"]{         order:13; }

  .nav a[href="/reviews.html"]{       order:14; }
  .nav a[href="/contact.html"]{       order:15; }  /* Custom Orders */
  .nav a[href="/transparency.html"]{  order:16; }
  .nav .cart-link{                    order:17; justify-self:end; }

  /* Shrink/hide cart flag to prevent overflow */
  .nav .cart-link .flag{ display: none; }

  /* CTA buttons sit centered beneath the 2 nav rows */
  .nav-cta{
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    gap: .5rem;
    margin-top: .35rem;
  }

  /* Logo corrections */
  :root{
    --logo-x: 0px !important;
    --logo-h: 78px !important;
  }
  .site-header .brand{ margin: 0 auto; }

  /* Keep header tidy */
  .header-inner{ flex-wrap: wrap; align-items: center; justify-content: center; gap: .5rem; }
  .site-header, .header-inner{ overflow: hidden; }
}
/* ===== MOBILE HOTFIX (no sideways scroll + compact header) ===== */

/* 0) Absolutely forbid horizontal scrolling site-wide */
html, body{ overflow-x: hidden !important; }
.container, .giveaway-thanks .container{ overflow-x: hidden !important; }

/* 1) Top bar: show ONLY "FREE U.S. SHIPPING" on phones */
@media (max-width:640px){
  .topbar-inner{ grid-template-columns: 1fr !important; }
  .topbar .msg{
    white-space: normal !important;
    visibility: hidden !important;      /* hide original long string */
    position: relative;
    height: 1.25rem;                    /* reserve space */
  }
  .topbar .msg::after{
    content: "FREE U.S. SHIPPING";
    visibility: visible;
    position: absolute; inset: 0;
    display: block; text-align: center;
    font-weight: 700; letter-spacing: .2px;
  }
}

/* 2) Header/nav: inline, wraps neatly into two rows; buttons stay visible */
@media (max-width:640px){

  /* neutralize off-canvas menu */
  .site-header .nav{
    position: static !important;
    inset: auto !important;
    transform: none !important;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;

    /* grid layout that actually fits */
    display: grid !important;
    grid-template-columns: repeat(3, auto); /* 3 per row on normal phones */
    gap: 6px 10px;
    justify-content: center;
    align-items: center;
    width: 100%;
    order: 3;
  }

  /* tiny phones: drop to 2 per row so nothing clips */
  @media (max-width:380px){
    .site-header .nav{ grid-template-columns: repeat(2, auto); }
  }

  /* hide hamburger; we’re showing links inline */
  .menu-btn{ display: none !important; }

  /* compact link pills */
  .site-header .nav a{
    margin: 0 !important;
    padding: 6px 8px !important;
    font-size: .95rem;
    white-space: nowrap;
  }
  .site-header .nav a::before{ content: none !important; }

  /* place links in 2 rows (explicit order, cart at end right) */
  .nav a[href="/"]{ order:10; }                            /* Shop */
  .nav a[href="/branch-collection.html"]{ order:11; }
  .nav a[href="/gallery.html"]{ order:12; }
  .nav a[href="/about.html"]{ order:13; }

  .nav a[href="/reviews.html"]{ order:14; }
  .nav a[href="/contact.html"]{ order:15; }                /* Custom Orders */
  .nav a[href="/transparency.html"]{ order:16; }
  .nav .cart-link{
    order:17;
    justify-self: end;
    margin: 0 !important;
  }
  .nav .cart-link .flag{ display: none !important; }       /* prevent width bloat */

  /* buttons: always full width row below the links */
  .nav-cta{
    grid-column: 1 / -1;
    display: flex; justify-content: center; gap: .5rem;
    margin-top: .35rem;
  }

  /* logo size/offset so it never pushes layout wider */
:root {
  --logo-x: 0px !important;
  --logo-h: 60px !important;   /* default desktop size */
}

@media (max-width: 640px) {
  :root {
    --logo-h: 70px !important;  /* mobile size */
  }

  /* move logo to the left on mobile */
  .site-header .brand {
    margin-left: 0 !important;
    margin-right: auto !important;
    justify-self: start !important;
  }
}
  .site-header .brand{ margin: 0 auto; }

  /* keep header wrapping tidy */
  .header-inner{ flex-wrap: wrap; align-items: center; justify-content: center; gap: .5rem; }
  .site-header, .header-inner{ overflow: hidden; }
}
/* ===== MOBILE HEADER: fit-to-screen, no sideways scroll, buttons visible ===== */
html, body { overflow-x: hidden !important; }  /* kill horizontal scroll */

/* Shorten the top bar on phones */
@media (max-width:640px){
  .topbar-inner{ grid-template-columns:1fr !important; }
  .topbar .msg{
    white-space:normal !important; visibility:hidden !important; position:relative; height:1.25rem;
  }
  .topbar .msg::after{
    content:"FREE U.S. SHIPPING"; visibility:visible; position:absolute; inset:0;
    display:block; text-align:center; font-weight:700; letter-spacing:.2px;
  }
}

/* Header + nav */
@media (max-width:640px){
  /* neutralize any off-canvas behavior */
  .site-header .nav{
    position: static !important;
    inset: auto !important;
    transform: none !important;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;

    /* IMPORTANT: columns that never overflow the viewport */
    display: grid !important;
    grid-template-columns: repeat(3, minmax(0, 1fr));  /* 3 equal columns */
    gap: 6px 8px;
    justify-items: center;       /* center items in their cells */
    align-items: center;
    width: 100%;
    order: 3;
  }

  /* tiny phones: 2 columns so nothing clips */
  @media (max-width:390px){
    .site-header .nav{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  }

  .menu-btn{ display:none !important; }

  /* Link pills that can wrap to 2 lines if needed (no overflow) */
  .site-header .nav a{
    margin: 0 !important;
    padding: 6px 6px !important;
    font-size: .92rem;
    text-align: center;
    line-height: 1.2;
    white-space: normal;      /* <-- allow wrapping within the pill */
    word-break: keep-all;
  }
  .site-header .nav a::before{ content:none !important; }

  /* Cart at end; hide big flag to avoid width bloat */
  .site-header .nav .cart-link{
    order: 99;
    justify-self: end;
    margin: 0 !important;
  }
  .nav .cart-link .flag{ display:none !important; }

  /* Buttons always on their own full-width row, fully visible */
  .nav-cta{
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    gap: .5rem;
    margin-top: .35rem;
  }

  /* Logo sizing/offset so it never forces width */
  :root{ --logo-x:0px !important; --logo-h:72px !important; }
  .site-header .brand{ margin:0 auto; }

  .header-inner{ flex-wrap:wrap; align-items:center; justify-content:center; gap:.5rem; }
}
/* === Mobile logo alignment: move logo to the left === */
@media (max-width:640px){
  .site-header .brand{
    margin-left: 0 !important;
    margin-right: auto !important;
    justify-self: start !important;
  }
}
/* === FINAL: logo controls (desktop vs mobile) === */
/* Desktop defaults */
:root{
  --logo-h: 90px;         /* desktop logo height */
  --logo-x: -150px;       /* desktop horizontal nudge (px) */
  --logo-y: 0px;          /* desktop vertical nudge (px) */
  --logo-scale: 1;        /* desktop scale */
}

/* Mobile overrides */
@media (max-width:640px){
  :root{
    --logo-h: 72px;       /* mobile logo height */
    --logo-x: 0px;        /* keep inside viewport on phones */
    --logo-y: 0px;
    --logo-scale: 1;
  }

  /* put logo on the left on mobile */
  .site-header .brand{
    margin-left: 0 !important;
    margin-right: auto !important;
    justify-self: start !important;
  }
}
/* --- Fix RM400 image click being blocked --- */
#rm400-card { position: relative; overflow: hidden; }
#rm400-card .fc-media { position: relative; z-index: 3; }   /* put image link on top */
#rm400-card .fc-media a { display: block; pointer-events: auto; }
#rm400-card .fc-controls { position: relative; z-index: 1; } /* push controls underneath */
#rm400-card .fc-controls {
  margin-top: 0;
  padding-top: 0;
}
/* Classic card: keep "More details →" clickable without moving it */
#classic-box { position: relative; }                /* create a local stacking context */
#classic-box .fc-media { position: relative; z-index: 0; } /* image layer */
#classic-box .more-details { position: relative; z-index: 2; } /* lift link above image only */
#classic-box .more-details a { pointer-events: auto; display: inline; } /* avoid full-width block */

/* Branch Collection: pin "More details" bottom-right */
#classic-box .fc-controls { position: relative; padding-bottom: 44px; } /* room for the link */
#classic-box .more-details {
  position: absolute; right: 16px; bottom: 8px;
  margin: 0; text-align: right;
}

/* Rangemaster 400: ensure it stays bottom-right too */
#rm400-card .fc-controls { position: relative; padding-bottom: 44px; }
#rm400-card .more-details {
  position: absolute; right: 16px; bottom: 8px;
  margin: 0; text-align: right;
}
/* Adjust spacing above "Want Custom Stenciling?" text */
#classic-box .custom-link {
  margin-top: 16px !important;
  display: block;
}
/* --- Fix overlap between Add/Buy buttons and custom-stenciling link --- */
#classic-box .fc-row:last-of-type {
  margin-bottom: 1rem; /* adds breathing room under Buy Now buttons */
}

#classic-box .custom-link {
  display: block;
  margin-top: 0.5rem;
  clear: both;
}
/* --- Classic card: keep buttons from crowding custom-stenciling line --- */
#classic-box .fc-controls .fc-row:nth-of-type(2) {
  /* this is the Add to Cart / Buy Now row */
  margin-bottom: 18px;              /* more breathing room below buttons */
}

#classic-box .custom-link {
  display: block;
  margin-top: 18px;                 /* space above the text line */
  clear: both;                      /* no chance of flex/float crowding */
  position: relative; 
  z-index: 2;                       /* render above anything nearby */
}
/* --- Final adjustment for Classic box layout --- */
#classic-box .fc-controls {
  padding-bottom: 20px;  /* adds room below Buy Now buttons */
}

#classic-box .custom-link {
  display: block;
  margin-top: 10px !important;
  clear: both;
  position: relative;
  z-index: 3;
}
/* restore clean alignment from production */
#classic-box .fc-controls {
  position: relative;
  padding-top: 0;
  padding-bottom: 16px; /* tighter vertical spacing */
  margin-top: 0;
}

#classic-box .fc-note {
  margin: 0.25rem 0; /* remove large gaps between lines */
}

#classic-box .fc-row {
  margin-top: 0.5rem; /* keep small space above Add/Buy buttons */
  margin-bottom: 0;   /* remove extra space under them */
}

#classic-box .more-details {
  position: absolute;
  bottom: 12px;
  right: 20px;
}
/* --- Keep "Want Custom Stenciling?" clear of the buttons (Classic card) --- */
#classic-box .fc-controls .stencil-text {
  display: block;
  clear: both;              /* just in case anything floats */
  margin-top: 10px !important;   /* push it down from the buttons */
  line-height: 1.25;
  position: relative;
  z-index: 0;
}

/* Ensure the button row leaves breathing room below it */
#classic-box .fc-controls .fc-row,
#classic-box .fc-controls .buy-row {
  margin-bottom: 12px !important;
}

/* (defensive) buttons don’t collapse their own height */
#classic-box .fc-controls .btn {
  line-height: 1 !important;
  position: relative;
  z-index: 1;               /* keeps button label above nearby text */
}
/* --- Classic card controls: make rows stack with a fixed gap --- */
#classic-box .fc-controls{
  display: grid !important;
  grid-auto-flow: row;
  grid-auto-rows: min-content;
  row-gap: 10px;                 /* space between every row */
  position: relative;            /* required for the absolute More details */
  padding-bottom: 64px;          /* room for the bottom-right More details link */
}

/* Ensure the green buttons don't collapse their bottom space */
#classic-box .fc-controls .fc-row,
#classic-box .fc-controls .buy-row{
  margin: 0 !important;          /* grid gap handles spacing */
}

/* “Want Custom Stenciling?” block (whatever wrapper it has) */
#classic-box .fc-controls .custom-link,
#classic-box .fc-controls .stencil-text,
#classic-box .fc-controls .custom-link *{
  display: block;
}

/* Keep the More details link pinned bottom-right (your previous behavior) */
#classic-box .fc-controls .more-details{
  position: absolute !important;
  right: 16px !important;
  bottom: 6px !important;
  margin: 0 !important;
  line-height: 1 !important;
}
/* --- Fix: Buttons inline & remove green line under "Click here →" --- */

/* Make Add to Cart + Buy Now sit side-by-side */
#classic-box .fc-controls .fc-row {
  display: flex !important;
  flex-wrap: nowrap !important;
  justify-content: flex-start;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px !important;
}

/* Ensure buttons are same height and aligned */
#classic-box .fc-controls .fc-row .btn {
  flex: 0 0 auto;
  white-space: nowrap;
  line-height: 1.1;
}

/* Remove the green underline */
#classic-box .fc-controls .green-link {
  border-bottom: none !important;
  text-decoration: none !important;
}

/* If "Click here →" uses .green-link inside a <p> or .custom-link */
#classic-box .fc-controls .custom-link a {
  border-bottom: none !important;
  text-decoration: none !important;
}

.custom-stencil-btn {
  display: inline-block;
  font-family: inherit;
  font-size: var(--step-0);
  color: var(--text);
  text-decoration: none;
  font-weight: 600;
  margin-top: 0.75rem;

  /* Force it left */
  text-align: left;
  margin-left: 0 !important;
  transform: none !important;
  position: relative;
  left: -200px; /* Adjust this value to move more or less left */

  transition: color 0.2s ease;
}

.custom-stencil-btn:hover {
  color: var(--brand);
  text-decoration: underline;
}
/* Desktop-only nudge (what you have now) */
@media (min-width: 881px){
  #classic-box .custom-stencil-btn{
    position: relative;
    left: -200px;    /* keep your desired placement on desktop */
  }
}
/* Phones: no negative left offset, allow wrapping, keep it inside the card */
@media (max-width: 880px){
  #classic-box .custom-stencil-btn{
    position: static !important;     /* kills left:-200px */
    display: block;
    margin: 10px 16px 0 !important;  /* small side padding so it never kisses the edge */
    text-align: center;               /* looks like one centered “pill” */
    white-space: normal;              /* ← lets it break to two lines if needed */
    line-height: 1.25;
  }

  /* If you want it to look like a button/pill on mobile, uncomment:
  #classic-box .custom-stencil-btn{
    padding: .55rem .9rem;
    border: 1px solid var(--brand);
    border-radius: 9999px;
  }
  */

  /* Pin the “More details →” safely inside the card on phones */
  #classic-box .more-details{
    left: 16px;            /* clamp both sides so it can wrap */
    right: 16px;
    bottom: 6px;
    text-align: center;    /* reads nicer under the controls */
    line-height: 1.2;
  }

  /* Ensure the controls leave room for the pinned link */
  #classic-box .fc-controls{ padding-bottom: 64px !important; }
}


/* === Mobile + Desktop fix for "More details →" link === */

/* Place the More Details link directly under the main image */
#classic-box .more-details {
  position: static !important;   /* no longer pinned at the bottom */
  display: block;
  text-align: left;              /* keep alignment consistent */
  margin: 10px 0 0 0;            /* space above */
  padding-left: 4px;
  font-size: 0.95rem;
  color: #ffffff !important;     /* white font */
  line-height: 1.3;
}

/* Make sure the link inside is white and clickable */
#classic-box .more-details a {
  color: #ffffff !important;
  text-decoration: none;
  font-weight: 600;
}

#classic-box .more-details a:hover {
  text-decoration: underline;
}

/* Slight spacing between the image and controls */
#classic-box .fc-media {
  margin-bottom: 12px;
}
/* === FINAL OVERRIDES (place at end of styles.css) === */

/* 1) Put "More details" directly under the main photo, left aligned, white */
#classic-box .more-details{
  position: static !important;   /* cancel any absolute pinning */
  display: block !important;
  margin: 10px 0 0 !important;
  text-align: left !important;
  line-height: 1.25;
}
#classic-box .more-details a{
  color: #fff !important;
  text-decoration: none;
  font-weight: 700;
}
#classic-box .more-details a:hover{ text-decoration: underline; }

/* small spacing between image and the link */
#classic-box .fc-media{ margin-bottom: 8px !important; }

/* 2) Keep controls tight; no reserved space for a pinned link */
#classic-box .fc-controls{
  position: static !important;
  padding-bottom: 0 !important;
}

/* 3) Un-do any negative offset on the custom stenciling line */
#classic-box .custom-stencil-btn{
  position: static !important;
  left: 0 !important;
  margin: 12px 0 0 !important;
  white-space: normal !important;
  text-align: left !important;
  color: #9bc2ff;                 /* keep your link color; change if you want */
  text-decoration: none;
  font-weight: 600;
}
#classic-box .custom-stencil-btn:hover{ text-decoration: underline; }

/* 4) Kill older rules that targeted .fc-controls .more-details specifically */
#classic-box .fc-controls .more-details{ all: unset; }
#classic-box .fc-controls .more-details{  /* re-apply our desired basics */
  display: none;                          /* ensures only the one under photo shows */
}
/* === Classic card: image + "More details" column === */
#classic-box .fc-media-col{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:.5rem;
  min-width:0;
}

/* Make sure the global featured-card grid stays like RM400 */
@media (min-width:880px){
  #classic-box{
    display:grid;
    grid-template-columns: minmax(0,1.2fr) minmax(0,1fr);
    align-items:start;
    gap:1rem;
  }
}

/* Force the link to be a normal block UNDER the image (override any earlier rules) */
#classic-box .more-details{
  position: static !important;
  right:auto !important;
  bottom:auto !important;
  margin:0;
  padding-left:4px;
  text-align:left !important;
  line-height:1.3;
}
#classic-box .more-details a{
  color:#fff !important;
  font-weight:600;
  text-decoration:none;
}
#classic-box .more-details a:hover{ text-decoration:underline; }

/* Ensure the image behaves (no weird growth) */
#classic-box .fc-media img{
  display:block;
  width:100%;
  height:auto;
  border-radius:6px;
}

/* Keep overall card width identical to RM400 */
#classic-box{ max-width:1100px; margin:2rem auto; }
/* === RM400 card: match Classic layout === */
#rm400-card .fc-media-col{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:.5rem;
}

@media (min-width:880px){
  #rm400-card{
    display:grid;
    grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);
    align-items:start;
    gap:1rem;
  }
}

#rm400-card .more-details{
  position:static !important;
  margin:0;
  padding-left:4px;
  text-align:left !important;
  line-height:1.3;
}
#rm400-card .more-details a{
  color:#fff !important;
  font-weight:600;
  text-decoration:none;
}
#rm400-card .more-details a:hover{
  text-decoration:underline;
}
/* === Fly-to-cart: dramatic pop + ultra-slow glide === */
.fly-to-cart {
  position: fixed;
  left: 0; top: 0;
  transform: translate(var(--fx,0px), var(--fy,0px)) scale(1);
  z-index: 9999;
  width: 40px; height: 40px;
  border-radius: 9999px;
  background: var(--brand, #2ecc71);
  color: #000;
  display: inline-grid; place-items: center;
  font-weight: 900; font-size: 16px;
  box-shadow: 0 8px 30px rgba(0,0,0,.4);
  pointer-events: none;
  opacity: 1;
  /* Slow, smooth glide (3s total) */
  transition:
    transform 3000ms cubic-bezier(.19,.8,.22,1),
    opacity   2800ms ease-out;
}

/* The “pop” animation right beside the button */
.fly-to-cart .fly-dot {
  width: 100%; height: 100%;
  display: grid; place-items: center;
  border-radius: inherit;
  animation: flyPop 650ms cubic-bezier(.2,1,.3,1);
  transform: scale(1.1);
}

/* BIGGER and more elastic pop */
@keyframes flyPop {
  0%   { transform: scale(.3); opacity: .2; }
  50%  { transform: scale(1.8); opacity: 1; }
  75%  { transform: scale(1.5); }
  100% { transform: scale(1.2); }
}

.fly-to-cart.end {
  transform:
    translate(calc(var(--fx,0px) + var(--dx,0px)),
              calc(var(--fy,0px) + var(--dy,0px)))
    scale(.6);
  opacity: 0;
}

/* Cart pop unchanged */
.nav .cart-link.cart-pop { animation: cartPop .35s ease-out; }
@keyframes cartPop {
  0% { transform: scale(1); }
  40% { transform: scale(1.15); }
  100% { transform: scale(1); }
}
/* Let action buttons be clickable even with an overlay link on the card */
.card .overlay-link { pointer-events: none; z-index: 1; }
.card .actions,
.card .actions * { pointer-events: auto; position: relative; z-index: 2; }
/* --- Giveaway page mobile overflow fix --- */
@media (max-width:640px){
  html, body {
    max-width: 100%;
    overflow-x: hidden !important;
  }

  .give-wrap,
  .give-grid,
  .give-card,
  .site-footer .container,
  section[aria-label="Explore our boxes"] {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    box-sizing: border-box;
  }

  /* Allow text and links to wrap instead of forcing a single line */
  section[aria-label="Explore our boxes"] a,
  section[aria-label="Explore our boxes"] p,
  footer a,
  footer p {
    white-space: normal;
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  /* Ensure the grid can shrink inside its container */
  .give-grid,
  .give-grid > * {
    min-width: 0;
  }
}
/* --- Giveaway form: mobile overflow fix --- */
@media (max-width:640px){
  /* Keep the form container inside the viewport */
  .give-wrap form,
  .give-card form {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    box-sizing: border-box;
  }

  /* Force the form grid to a single column on phones */
  .give-wrap .form-grid,
  .give-card .form-grid {
    grid-template-columns: 1fr !important;
    gap: 12px;
  }

  /* Allow children to shrink instead of forcing the page wider */
  .give-wrap .field,
  .give-card .field,
  .give-wrap .field *,
  .give-card .field * {
    min-width: 0;
  }

  /* Inputs/selects/textarea should never exceed their column */
  .give-wrap input,
  .give-wrap select,
  .give-wrap textarea,
  .give-card input,
  .give-card select,
  .give-card textarea {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box;
  }

  /* Consent / checkbox rows: allow wrapping */
  .give-wrap .consent,
  .give-card .consent,
  .give-wrap .check,
  .give-card .check {
    display: flex;
    align-items: flex-start;
    gap: .5rem;
    flex-wrap: wrap;     /* ← prevents overflow from long text */
    min-width: 0;
  }

  /* Button row: full-width buttons look cleaner and don't overflow */
  .give-wrap .btn-row,
  .give-card .btn-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: .5rem;
  }
  .give-wrap .btn-row .btn,
  .give-card .btn-row .btn { width: 100%; }

  /* If a captcha/iframe is present, contain it */
  .give-wrap iframe,
  .give-card iframe {
    max-width: 100% !important;
  }

  /* Very long words/URLs inside helper text won’t push width */
  .give-wrap p, .give-wrap a, .give-wrap label,
  .give-card p, .give-card a, .give-card label {
    overflow-wrap: anywhere;
    word-break: break-word;
  }
}
.btn-final-salute {
  background-color: #1b1e36; /* deep navy base */
  color: #fff;
  font-weight: 700;
  border: 2px solid transparent;
  background-image:
    linear-gradient(#1b1e36, #1b1e36),
    linear-gradient(90deg, #b22234, #ffffff, #3c3b6e);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: all 0.25s ease;
  box-shadow: 0 0 8px rgba(0,0,0,0.25);
}

.btn-final-salute:hover {
  background-color: #2c315a;
  box-shadow: 0 0 12px rgba(255,255,255,0.3);
}
/* Giveaway hero image: keep it shallow */
.give-wrap .give-img{
  max-width: 600px !important;     /* match your file’s width */
  width: 100%;
  max-height: 360px !important;    /* ↓ reduce vertical footprint */
  height: auto;
  object-fit: cover;               /* trims a little top/bottom if needed */
  border-radius: .5rem;
  display: block;
  margin: 0 auto;
}

/* On phones, make it even shorter */
@media (max-width:640px){
  .give-wrap .give-img{
    max-height: 240px !important;
  }
}
.sale-badge{
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-left: 0.4rem;

  padding: 0.08rem 0.55rem;
  border-radius: 999px;

  font-size: 0.7rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.08em;

  background: rgba(255,107,107,0.12);
  border: 1px solid rgba(255,107,107,0.85);
  color: var(--danger, #ff6b6b);
}

.sale-icon{
  width: 0.8rem;
  height: auto;
  display: block;
}
/* When the hidden attribute is set, actually hide the pill */
.sale-badge[hidden] {
  display: none !important;
}
/* === Global Sale Banner (big red kaboom) === */
.global-sale-banner{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;

  padding: 0.6rem 1rem;
  background: linear-gradient(90deg, #b91c1c, #ef4444);
  color: #fff;

  font-size: 0.95rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.08em;

  box-shadow: 0 2px 10px rgba(0,0,0,0.45);
  border-bottom: 1px solid rgba(255,255,255,0.25);
  z-index: 15;
}

.global-sale-banner .sale-tag{
  padding: 0.1rem 0.7rem;
  border-radius: 999px;
  background: #fff;
  color: #b91c1c;
  font-size: 0.8rem;
}

.global-sale-banner .sale-text{
  text-transform: none;      /* only the tag is fully uppercase */
  letter-spacing: 0;
  font-weight: 600;
  line-height: 1.4;
}

/* Phones: stack text so it never overflows */
@media (max-width:640px){
  .global-sale-banner{
    flex-direction: column;
    text-align: center;
    padding: 0.6rem 0.75rem;
  }

  .global-sale-banner .sale-text{
    font-size: 0.9rem;
  }
}
/* Let us actually hide the big sale banner */
.global-sale-banner[hidden],
.global-sale-banner.is-off {
  display: none !important;
}
.global-sale-banner .sale-end {
  display: block;
  font-size: 0.9rem;
  opacity: 0.9;
  margin-top: 2px;
}

