<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Custom Orders • Freedom Crate Co.</title>
  <meta name="description" content="Request a custom Freedom Crate: branch stencils, hardware, sizing, and finishes. Florida-built. Free shipping." />
  <link rel="canonical" href="https://freedomcrateco.com/contact.html">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Custom Orders • Freedom Crate Co.">
  <meta property="og:description" content="Request a custom Freedom Crate—branch stencils, hardware, sizing, and finishes.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://freedomcrateco.com/contact.html">
  <meta property="og:image" content="https://freedomcrateco.com/assets/img/og-hero.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="stylesheet" href="assets/css/styles.css" />
  <style>
    .narrow{max-width:980px;margin:2rem auto}
    .form-grid{display:grid;grid-template-columns:1fr;gap:1rem}
    @media (min-width:860px){.form-grid.two{grid-template-columns:1fr 1fr}}
    label{font-weight:600;display:block;margin:.35rem 0}
    input[type="text"],input[type="email"],input[type="number"],select,textarea{
      width:100%;padding:.9rem 1rem;border-radius:10px;
      border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.03);color:inherit;
    }
    textarea{min-height:160px;resize:vertical}
    .preview{margin-top:.5rem}
    .preview img{max-width:220px;height:auto;border-radius:10px;display:block}
    .helper{font-size:.9rem;opacity:.75}
    .hidden{position:absolute;left:-10000px;height:1px;width:1px;overflow:hidden}
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{position:static;width:auto;height:auto;padding:.5rem;background:#000;color:#fff;border-radius:.25rem}
  </style>

  <!-- Optional: Contact / Org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ContactPage",
    "url": "https://freedomcrateco.com/contact.html",
    "about": {
      "@type": "Organization",
      "name": "Freedom Crate Co.",
      "url": "https://freedomcrateco.com/"
    }
  }
  </script>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <a class="brand" href="index.html">
      <img src="assets/img/logo.png" alt="Freedom Crate Co." height="60" width="60">
    </a>
    <nav class="nav" aria-label="Primary">
      <a href="index.html">Shop</a>
      <a class="active" href="contact.html">Custom Orders</a>
      <a href="checkout.html">Cart (<span id="cartCount">0</span>)</a>
    </nav>
  </header>

  <main class="container narrow" id="main">
    <h1>Custom Orders &amp; Inquiries</h1>
    <p>Send details and we’ll get back with a quote.</p>

    <!-- Netlify form -->
    <form class="form"
          name="custom-order"
          method="POST"
          action="/thanks.html"
          data-netlify="true"
          netlify-honeypot="bot-field"
          enctype="multipart/form-data">
      <input type="hidden" name="form-name" value="custom-order" />
      <div class="hidden">
        <label>Don’t fill this out: <input name="bot-field" autocomplete="off" tabindex="-1" /></label>
      </div>

      <!-- Basic info -->
      <div class="form-grid two">
        <div class="field">
          <label for="name">Name *</label>
          <input id="name" name="name" type="text" required placeholder="Your full name" autocomplete="name" maxlength="120">
        </div>
        <div class="field">
          <label for="email">Email *</label>
          <input id="email" name="email" type="email" required placeholder="you@example.com" autocomplete="email" inputmode="email" maxlength="180">
        </div>
      </div>

      <!-- Which box -->
      <div class="form-grid two">
        <div class="field">
          <label for="box">Which box?</label>
          <select id="box" name="box" required>
            <option value="">-- Select --</option>
            <optgroup label="Standard Ammo Box">
              <option value="Standard — U.S. Army"
                      data-title="Standard Ammo Box — U.S. Army"
                      data-image="assets/img/army.jpg">U.S. Army</option>
              <option value="Standard — U.S. Marine Corps"
                      data-title="Standard Ammo Box — U.S. Marine Corps"
                      data-image="assets/img/marines.jpg">U.S. Marine Corps</option>
              <option value="Standard — U.S. Navy"
                      data-title="Standard Ammo Box — U.S. Navy"
                      data-image="assets/img/navy.jpg">U.S. Navy</option>
              <option value="Standard — U.S. Air Force"
                      data-title="Standard Ammo Box — U.S. Air Force"
                      data-image="assets/img/airforce.jpg">U.S. Air Force</option>
              <option value="Standard — U.S. Coast Guard"
                      data-title="Standard Ammo Box — U.S. Coast Guard"
                      data-image="assets/img/coastguard.jpg">U.S. Coast Guard</option>
              <option value="Standard — Blank (no stencil)"
                      data-title="Standard Ammo Box — Blank (no stencil)"
                      data-image="assets/img/blank.jpg">Blank (no stencil)</option>
            </optgroup>
            <optgroup label="Other Products">
              <option value="Footlocker Ammo Box V2"
                      data-title="Footlocker Ammo Box V2"
                      data-image="assets/img/footlocker-v2.png">Footlocker Ammo Box V2</option>
              <option value="Rangemaster 300"
                      data-title="Rangemaster 300"
                      data-image="assets/img/rb300.png">Rangemaster 300</option>
              <option value="Rangemaster 400"
                      data-title="Rangemaster 400"
                      data-image="assets/img/rm400.jpg">Rangemaster 400</option>
              <option value="Range Box 1000 (9mm)"
                      data-title="Range Box 1000 (9mm)"
                      data-image="assets/img/rb1000.png">Range Box 1000 (9mm)</option>
              <option value="Other / Custom"
                      data-title="Other / Custom"
                      data-image="">Other / Custom</option>
            </optgroup>
          </select>

          <!-- Hidden fields to carry preview data into the submission -->
          <input type="hidden" name="selected_box_title" id="selectedBoxTitle">
          <input type="hidden" name="selected_box_image" id="selectedBoxImage">

          <!-- Live preview -->
          <div id="boxPreviewWrap" class="preview" hidden>
            <img id="boxPreview" src="" alt="" width="220" height="160" decoding="async">
            <div id="boxPreviewCaption" class="helper"></div>
          </div>
        </div>

        <div class="field">
          <label for="qty">Quantity</label>
          <input id="qty" name="qty" type="number" min="1" step="1" value="1" inputmode="numeric" pattern="[0-9]*">
        </div>
      </div>

      <!-- Latch preference -->
      <div class="field">
        <label>Hardware (both lockable)</label>
        <div role="group" aria-label="Latch finish" class="helper">
          <label style="display:flex;gap:.5rem;align-items:center;margin:.35rem 0;">
            <input type="radio" name="latch" value="Stainless" checked> Original Stainless Toggle Latches
          </label>
          <label style="display:flex;gap:.5rem;align-items:center;">
            <input type="radio" name="latch" value="Black"> Black Toggle Latches
          </label>
        </div>
      </div>

      <!-- Details -->
      <div class="field">
        <label for="details">Details *</label>
        <textarea id="details" name="details" rows="8" required
          placeholder="Tell us stencil choice, placement (front/lid/back), text under lid, etc."
          maxlength="2000"></textarea>
      </div>

      <!-- Optional attachment (reference photo / logo) -->
      <div class="field">
        <label for="attachment">Attach a reference photo (optional)</label>
        <input id="attachment" name="attachment" type="file" accept="image/*">
        <div class="helper">PNG/JPG only. Max ~5MB recommended.</div>
      </div>

      <!-- Optional reCAPTCHA (enable in Netlify settings, then uncomment) -->
      <!-- <div data-netlify-recaptcha="true"></div> -->

      <button id="submitBtn" class="btn" type="submit">Send Inquiry</button>
    </form>
  </main>

  <footer class="site-footer">
    <div class="container"><span class="badge">Florida-built</span></div>
  </footer>

  <!-- Keep the cart badge in sync -->
  <script src="assets/js/util.js" defer></script>
  <script src="assets/js/config.js" defer></script>
  <script src="assets/js/cart.js" defer></script>

  <!-- Page-scoped script: query param prefill + preview + submit hardening -->
  <script>
  (function(){
    const sel  = document.getElementById('box');
    const tH   = document.getElementById('selectedBoxTitle');
    const iH   = document.getElementById('selectedBoxImage');
    const wrap = document.getElementById('boxPreviewWrap');
    const img  = document.getElementById('boxPreview');
    const cap  = document.getElementById('boxPreviewCaption');
    const submitBtn = document.getElementById('submitBtn');
    const form = document.forms['custom-order'];

    function updatePreview(){
      const opt = sel.options[sel.selectedIndex];
      const title = opt?.dataset?.title || '';
      const src   = opt?.dataset?.image || '';
      tH.value = title; iH.value = src;

      if (src){
        img.src = src; img.alt = title || 'Selected box preview'; cap.textContent = title;
        wrap.hidden = false;
      } else {
        wrap.hidden = true; img.src = ''; img.alt = ''; cap.textContent = '';
      }
    }

    // Prefill "Which box" from ?box= query
    (function prefillFromQuery(){
      const params = new URLSearchParams(location.search);
      const q = params.get('box');
      if (!q) return;
      for (const opt of sel.options) {
        if (opt.value.toLowerCase() === q.toLowerCase() || (opt.dataset?.title||'').toLowerCase() === q.toLowerCase()) {
          sel.value = opt.value; break;
        }
      }
    })();

    sel.addEventListener('change', updatePreview);
    updatePreview();

    // Prevent double-submit & add minimal client-side guardrails
    form.addEventListener('submit', (e) => {
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending…';
      }
      // Basic check: details length
      const details = document.getElementById('details')?.value || '';
      if (details.trim().length < 10) {
        e.preventDefault();
        alert('Please add a bit more detail so we can give an accurate quote.');
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Inquiry';
      }
    });
  })();
  </script>
</body>
</html>